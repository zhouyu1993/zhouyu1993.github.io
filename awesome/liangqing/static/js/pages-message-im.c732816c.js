(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-message-im"],{"05d6":function(t,e){t.exports="data:font/ttf;base64,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"},"1db7":function(t,e,i){"use strict";(function(t){var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("e814"));i("28a5");var A=n(i("f499")),o=n(i("9f05")),s={data:function(){return{style:{windowHeight:0,contentViewHeight:0,contentViewMarginBottom:"100rpx"},userInfo:{},toInfo:{},relation:"",showAddFriend:!1,isAddFriend:!1,joinfriend:"",textMsg:"",isHistoryLoading:!1,scrollAnimation:!0,scrollTop:0,scrollToView:"",msgList:[],msgImgList:[],maxCnt:15,nextReqMessageID:"",isCompleted:0,qiniuToken:"",domain:"",progress:0,isVoice:!1,voiceTis:"按住 说话",recordTis:"手指上滑 取消发送",recording:!1,willStop:!1,initPoint:{identifier:0,Y:0},recordTimer:null,recordLength:0,AUDIO:uni.createInnerAudioContext(),playMsgid:null,VoiceTimer:null,isMore:!1,isNotAdmin:!0,giftData:{toInfo:{id:"",name:"",avatar:""},userInfo:{id:"",name:"",avatar:"",rose:0},list:[]}}},onLoad:function(e){var i=this;try{var n=uni.getSystemInfoSync();n&&(this.style.windowHeight=n.windowHeight,this.style.contentViewHeight=n.windowHeight-n.screenWidth/750*100);var a=uni.getStorageSync("user_info");a&&(this.userInfo=a,this.giftData.userInfo.id=this.userInfo.id,this.giftData.userInfo.name=this.userInfo.name,this.giftData.userInfo.avatar=this.userInfo.avatar)}catch(A){t.warn(A)}this.AUDIO.onEnded(function(t){i.playMsgid=null}),this.toInfo=JSON.parse(decodeURIComponent(e.to)),this.giftData.toInfo.id=this.toInfo.id,this.giftData.toInfo.name=this.toInfo.name,this.giftData.toInfo.avatar=this.toInfo.avatar,this.isFriendCheck(),uni.setNavigationBarTitle({title:this.toInfo.name}),"admin"==this.toInfo.id&&(this.isNotAdmin=!1,this.style.contentViewHeight=this.style.windowHeight,this.style.contentViewMarginBottom="0rpx"),uni.$on("im-page",function(e){if(t.log("im-page监听",e),"message"==e.type){if(e.data.from!=i.toInfo.id)return!1;i.$tim.setMessageRead({conversationID:i.toInfo.conversationID}),"TIMTextElem"==e.data.type&&i.screenMsg({type:"user",msg:{type:"text",content:{text:e.data.payload.text},userinfo:{id:i.toInfo.id,name:i.toInfo.name,avatar:i.toInfo.avatar}}}),"TIMCustomElem"==e.data.type&&i.screenMsg({type:"user",msg:{type:e.data.payload.data,content:JSON.parse(e.data.payload.extension),userinfo:{id:i.toInfo.id,name:i.toInfo.name,avatar:i.toInfo.avatar}}})}"send"==e.type&&(i.$refs["give-gift"].close(),i.isMore=!1,i.screenMsg({type:"user",msg:{type:e.data.type,content:e.data.msg,userinfo:{id:i.userInfo.id,name:i.userInfo.name,avatar:i.userInfo.avatar}}}))})},onReady:function(){uni.hideTabBar(),this.getMsgList(),this.getQiniuToken()},onShow:function(){this.scrollTop=9999999},onUnload:function(){t.log("im-page onUnload"),uni.$off("im-page")},onBackPress:function(t){uni.$emit("message-page",{type:"update"})},onNavigationBarButtonTap:function(t){var e=this;uni.showActionSheet({itemList:["查看详情","举报"],success:function(t){if(0==t.tapIndex){var i={id:e.toInfo.id,name:e.toInfo.name};uni.navigateTo({url:"../home/user_home?user="+(0,A.default)(i)})}1==t.tapIndex&&uni.navigateTo({url:"../my/complaints?touid="+e.toInfo.id})}})},methods:{isFriendCheck:function(){var t=this;this.$api.api.ajaxData({method:"V1.FriendCheck",uid:this.userInfo.id,token:this.userInfo.token,touid:this.toInfo.id},function(e){e.status&&(t.joinfriend=e.extra.joinfriend,t.relation=e.data[0].InfoItem[0].Relation,"CheckResult_Type_AWithB"==t.relation||"CheckResult_Type_BothWay"==t.relation?t.showAddFriend=!1:-1!=t.toInfo.conversationID.indexOf("C2C")&&"admin"!=t.toInfo.id&&(t.showAddFriend=!0))})},giveGiftChange:function(e){t.log(e)},giftChange:function(e){t.log(e)},getQiniuToken:function(){var t=this;this.$api.api.ajaxData({method:"V1.QiniuToken",uid:this.userInfo.id,token:this.userInfo.token},function(e){e.status&&(t.qiniuToken=e.data.token,t.domain=e.data.domain)})},getMsgList:function(){var e=this;this.$tim.getMessageList({conversationID:this.toInfo.conversationID,nextReqMessageID:this.nextReqMessageID,count:15}).then(function(i){t.log("拉取最近消息",i);for(var n=i.data.messageList,a=[],A=0;A<n.length;A++){var o={},s={};"in"==n[A].flow&&(s.id=e.toInfo.id+"",s.name=e.toInfo.name,s.avatar=e.toInfo.avatar),"out"==n[A].flow&&(s.id=e.userInfo.id+"",s.name=e.userInfo.name,s.avatar=e.userInfo.avatar),"TIMTextElem"==n[A].type&&(o=n[A].payload,a.push({type:"user",msg:{type:"text",content:o,userinfo:s}})),"TIMCustomElem"==n[A].type&&("img"!=n[A].payload.data&&"voice"!=n[A].payload.data&&"gift"!=n[A].payload.data||(o=JSON.parse(n[A].payload.extension),a.push({type:"user",msg:{type:n[A].payload.data,content:o,userinfo:s}}),"img"==n[A].payload.data&&e.msgImgList.push(o.url)),"addFriend"==n[A].payload.data&&"in"==n[A].flow&&(e.showAddFriend=!1,e.isAddFriend=!0))}if(""==e.nextReqMessageID)e.msgList=a;else for(var r=a.length-1;r>=0;r--)e.msgList.unshift(a[r]),"img"==a[r].msg.type&&e.msgImgList.unshift(a[r].msg.content.url);""!=e.nextReqMessageID&&0==a.length&&uni.showToast({title:"没有更多历史消息了~",position:"bottom",icon:"none"}),e.nextReqMessageID=i.data.nextReqMessageID,e.isCompleted=i.data.isCompleted,e.$nextTick(function(){this.isHistoryLoading||(this.scrollToView="msg"+(this.msgList.length-1)),this.$nextTick(function(){this.isHistoryLoading=!1})}),e.$tim.setMessageRead({conversationID:e.toInfo.conversationID})})},loadHistory:function(t){var e=this;this.isHistoryLoading||(this.isHistoryLoading=!0,setTimeout(function(){e.getMsgList()},1e3))},setPicSize:function(t){var e=uni.upx2px(350),i=uni.upx2px(350);if(t.w>e||t.h>i){var n=t.w/t.h;t.w=n>1?e:i*n,t.h=n>1?e/n:i}return t},screenMsg:function(t){if("system"==t.type)switch(t.msg.type){case"text":this.msgList.push(t);break}else if("user"==t.type){switch(t.msg.type){case"text":this.msgList.push(t);break;case"voice":this.msgList.push(t);break;case"img":this.msgImgList.push(t.msg.content.url),this.msgList.push(t);break;case"gift":this.msgList.push(t);break}t.msg.userinfo.id!=this.userInfo.id&&uni.vibrateLong()}this.$nextTick(function(){this.scrollToView="msg"+(this.msgList.length-1)})},showMore:function(){this.isVoice=!1,this.isMore=!0},hideMore:function(){this.isVoice=!1,this.isMore=!1},getImage:function(t){var e=this;this.hideMore(),uni.chooseImage({sourceType:[t],sizeType:["original","compressed"],success:function(t){for(var i=function(i){uni.getImageInfo({src:t.tempFilePaths[i],success:function(n){var a={url:t.tempFilePaths[i],w:n.width,h:n.height};e.sendMsg(a,"img")}})},n=0;n<t.tempFilePaths.length;n++)i(n)}})},sendText:function(){this.hideMore(),this.textMsg&&this.sendMsg({text:this.textMsg},"text")},sendMsg:function(e,i){var n=this;if("text"==i){var a=this.$tim.createTextMessage({to:this.toInfo.id+"",conversationType:"C2C",payload:{text:e.text}});this.$tim.sendMessage(a).then(function(e){t.log("发送文本消息成功",e),n.textMsg=""}).catch(function(e){20007==e.code&&uni.showToast({title:"消息已发出，但被对方拒收了",position:"bottom",icon:"none"}),n.textMsg="",t.warn("发送文本消息失败",e)})}if("img"==i||"voice"==i){var s=i,r="",c="",l={};"img"==s&&(r="图片",l.w=e.w,l.h=e.h),"voice"==s&&(r="语音",l.length=e.length);var d="time_"+ +new Date+"-random_"+this.$api.api.getRandom(0,1e6);uni.showLoading({title:this.progress+"%"}),o.default.upload(e.url,function(e){uni.hideLoading(),l.url=e.fileUrl,c=(0,A.default)(l);var i=n.$tim.createCustomMessage({to:n.toInfo.id+"",conversationType:n.TIM.TYPES.CONV_C2C,payload:{data:s,description:r,extension:c}});n.$tim.sendMessage(i).then(function(e){t.log("发送自定义"+r+"消息成功",e)}).catch(function(e){t.warn("发送自定义"+r+"消息失败",e)})},function(e){t.log("err: "+(0,A.default)(e))},{region:"SCN",domain:this.domain,key:d,uptoken:this.qiniuToken},function(t){n.progress=t.progress},function(){},function(){},function(){})}this.screenMsg({type:"user",msg:{type:i,content:e,userinfo:{id:this.userInfo.id,name:this.userInfo.name,avatar:this.userInfo.avatar}}})},showPic:function(t){var e=t.content.url.split("?");uni.previewImage({indicator:"none",current:e[0],urls:this.msgImgList})},playVoice:function(t,e){this.playMsgid="msg"+e,this.AUDIO.src=t.content.url,this.$nextTick(function(){this.AUDIO.play()})},voiceBegin:function(t){t.touches.length>1||(this.initPoint.Y=t.touches[0].clientY,this.initPoint.identifier=t.touches[0].identifier,this.RECORDER.start({format:"mp3"}))},recordBegin:function(t){var e=this;this.recording=!0,this.voiceTis="松开 结束",this.recordLength=0,this.recordTimer=setInterval(function(){e.recordLength++},1e3)},voiceCancel:function(){this.recording=!1,this.voiceTis="按住 说话",this.recordTis="手指上滑 取消发送",this.willStop=!0,this.RECORDER.stop()},voiceIng:function(t){if(this.recording){var e=t.touches[0];this.initPoint.Y-e.clientY>=uni.upx2px(100)?(this.willStop=!0,this.recordTis="松开手指 取消发送"):(this.willStop=!1,this.recordTis="手指上滑 取消发送")}},voiceEnd:function(t){this.recording&&(this.recording=!1,this.voiceTis="按住 说话",this.recordTis="手指上滑 取消发送",this.RECORDER.stop())},recordEnd:function(e){if(clearInterval(this.recordTimer),this.willStop)t.log("取消发送录音");else{t.log("e: "+(0,A.default)(e));var i={length:0,url:e.tempFilePath},n=(0,a.default)(this.recordLength/60),o=this.recordLength%60;n=n<10?"0"+n:n,o=o<10?"0"+o:o,i.length=n+":"+o,this.sendMsg(i,"voice")}this.willStop=!1},switchVoice:function(){this.isVoice=!this.isVoice,this.isMore=!1},discard:function(){},openGift:function(){var t=this;this.$api.api.ajaxData({method:"V1.Gift",uid:this.userInfo.id,token:this.userInfo.token},function(e){e.status&&(t.giftData.rid="0",t.giftData.list=e.data.list,t.giftData.userInfo.rose=e.data.info.rose,t.$refs["give-gift"].open())})},addFriend:function(e){var i=this;uni.showLoading({title:""}),this.$api.api.ajaxData({method:"V1.JoinGroupFriend",uid:this.userInfo.id,token:this.userInfo.token,touid:this.toInfo.id,type:"friends",ispay:1},function(n){if(uni.hideLoading(),n.status){var a="";if("application"==e){a="申请添加好友发送成功";var A=i.$tim.createCustomMessage({to:i.toInfo.id+"",conversationType:i.TIM.TYPES.CONV_C2C,payload:{data:"addFriend",description:"申请添加好友",extension:""}});i.$tim.sendMessage(A).then(function(e){t.log("发送加好友自定义消息成功",e)}).catch(function(e){t.warn("发送加好友自定义消息失败",e)}),i.showAddFriend=!1}"agree"==e&&(a="已同意",i.isAddFriend=!1,i.showAddFriend=!1),uni.showToast({title:a,position:"bottom",icon:"none"})}else uni.showToast({title:n.msg,position:"bottom",icon:"none"})})}}};e.default=s}).call(this,i("5a52")["default"])},"45c5":function(t,e,i){var n=i("bcc2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("b298bc8e",n,!0,{sourceMap:!1,shadowMode:!1})},"7e36":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[t.showAddFriend||t.isAddFriend&&""!=t.relation&&"CheckResult_Type_BothWay"!=t.relation?i("v-uni-view",{staticClass:"addFriend-wrap"}):t._e(),t.showAddFriend?i("v-uni-view",{staticClass:"addFriend"},[i("v-uni-text",{staticClass:"tips"},[t._v("加好友对方优先看到你")]),i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addFriend("application")}}},[t._v("加好友 | "+t._s(t.joinfriend)+"玫瑰")])],1):t._e(),t.isAddFriend&&""!=t.relation&&"CheckResult_Type_BothWay"!=t.relation?i("v-uni-view",{staticClass:"addFriend"},[i("v-uni-text",{staticClass:"tips"},[t._v("对方申请加你为好友")]),i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addFriend("agree")}}},[t._v("同意")])],1):t._e(),i("v-uni-view",{staticClass:"message-wrap",style:{height:t.style.contentViewHeight+"px",marginBottom:t.style.contentViewMarginBottom},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.hideMore.apply(void 0,arguments)}}},[i("v-uni-scroll-view",{staticClass:"msg-list",style:{height:t.style.contentViewHeight+"px",paddingTop:t.showAddFriend?"100rpx":"20rpx"},attrs:{"scroll-y":!0,"show-scrollbar":!1,"scroll-with-animation":t.scrollAnimation,"scroll-top":t.scrollTop,"scroll-into-view":t.scrollToView,"upper-threshold":"0"},on:{scrolltoupper:function(e){arguments[0]=e=t.$handleEvent(e),t.loadHistory.apply(void 0,arguments)}}},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isHistoryLoading,expression:"isHistoryLoading"}],staticClass:"loading"},[i("v-uni-view",{staticClass:"spinner"},[i("v-uni-view",{staticClass:"rect rect1"}),i("v-uni-view",{staticClass:"rect rect2"}),i("v-uni-view",{staticClass:"rect rect3"}),i("v-uni-view",{staticClass:"rect rect4"}),i("v-uni-view",{staticClass:"rect rect5"})],1)],1),t._l(t.msgList,function(e,n){return i("v-uni-view",{key:n,staticClass:"row",attrs:{id:"msg"+n}},["system"==e.type?[i("v-uni-view",{staticClass:"system"},["text"==e.msg.type?i("v-uni-view",{staticClass:"system-content text"},[t._v(t._s(e.msg.content.text))]):t._e()],1)]:t._e(),"user"==e.type?[e.msg.userinfo.id==t.userInfo.id?i("v-uni-view",{staticClass:"my"},[i("v-uni-view",{staticClass:"left"},["text"==e.msg.type?i("v-uni-view",{staticClass:"bubble"},[i("v-uni-rich-text",{attrs:{nodes:e.msg.content.text}})],1):t._e(),"voice"==e.msg.type?i("v-uni-view",{staticClass:"bubble voice",class:t.playMsgid=="msg"+n?"play":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.playVoice(e.msg,n)}}},[i("v-uni-view",{staticClass:"length"},[t._v(t._s(e.msg.content.length))]),i("v-uni-view",{staticClass:"icon my-voice"})],1):t._e(),"img"==e.msg.type?i("v-uni-view",{staticClass:"bubble img",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showPic(e.msg)}}},[i("v-uni-image",{attrs:{src:e.msg.content.url,mode:"aspectFill"}})],1):t._e(),"gift"==e.msg.type?i("v-uni-view",{staticClass:"bubble gift"},[i("v-uni-text",[t._v("送你一个"+t._s(e.msg.content.giftName))]),i("v-uni-image",{attrs:{src:e.msg.content.url,mode:""}})],1):t._e()],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-image",{attrs:{src:e.msg.userinfo.avatar,mode:"aspectFill"}})],1)],1):t._e(),e.msg.userinfo.id==t.toInfo.id?i("v-uni-view",{staticClass:"other"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-image",{attrs:{src:e.msg.userinfo.avatar,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"right"},["text"==e.msg.type?i("v-uni-view",{staticClass:"bubble"},[i("v-uni-rich-text",{attrs:{nodes:e.msg.content.text}})],1):t._e(),"voice"==e.msg.type?i("v-uni-view",{staticClass:"bubble voice",class:t.playMsgid=="msg"+n?"play":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.playVoice(e.msg,n)}}},[i("v-uni-view",{staticClass:"icon other-voice"}),i("v-uni-view",{staticClass:"length"},[t._v(t._s(e.msg.content.length))])],1):t._e(),"img"==e.msg.type?i("v-uni-view",{staticClass:"bubble img",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showPic(e.msg)}}},[i("v-uni-image",{attrs:{src:e.msg.content.url,mode:"aspectFill"}})],1):t._e(),"gift"==e.msg.type?i("v-uni-view",{staticClass:"bubble gift"},[i("v-uni-text",[t._v("送你一个"+t._s(e.msg.content.giftName))]),i("v-uni-image",{attrs:{src:e.msg.content.url,mode:""}})],1):t._e()],1)],1):t._e()]:t._e()],2)})],2)],1),t.isNotAdmin?i("v-uni-view",{staticClass:"input-box",style:{bottom:t.isMore?"390rpx":"0rpx"},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.discard.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"textbox"},[i("v-uni-view",{staticClass:"voice-mode",class:[t.isVoice?"":"hidden",t.recording?"recording":""],on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.voiceBegin.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.voiceIng.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.voiceEnd.apply(void 0,arguments)},touchcancel:function(e){arguments[0]=e=t.$handleEvent(e),t.voiceCancel.apply(void 0,arguments)}}},[t._v(t._s(t.voiceTis))]),i("v-uni-view",{staticClass:"text-mode",class:t.isVoice?"hidden":""},[i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"想说点什么...","confirm-type":"send"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.isMore=!1},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.sendText.apply(void 0,arguments)}},model:{value:t.textMsg,callback:function(e){t.textMsg=e},expression:"textMsg"}})],1)],1),""==t.textMsg||t.isVoice?i("v-uni-view",{staticClass:"more",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showMore.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"icon add"})],1):t._e(),t.isVoice||""==t.textMsg?t._e():i("v-uni-view",{staticClass:"send"},[i("v-uni-button",{staticStyle:{width:"initial"},attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendText.apply(void 0,arguments)}}},[t._v("发送")])],1)],1):t._e(),t.isMore?i("v-uni-view",{staticClass:"popup-layer",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.discard.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"more-layer"},[i("v-uni-view",{staticClass:"box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getImage("album")}}},[i("v-uni-view",{staticClass:"menu-item"},[i("v-uni-view",{staticClass:"icon tupian2"})],1)],1),i("v-uni-view",{staticClass:"box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getImage("camera")}}},[i("v-uni-view",{staticClass:"menu-item"},[i("v-uni-view",{staticClass:"icon paizhao"})],1)],1),i("v-uni-view",{staticClass:"box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openGift.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"menu-item"},[i("v-uni-view",{staticClass:"icon1 gift"})],1)],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"record",class:t.recording?"":"hidden"},[i("v-uni-view",{staticClass:"ing",class:t.willStop?"hidden":""},[i("v-uni-view",{staticClass:"icon luyin2"})],1),i("v-uni-view",{staticClass:"cancel",class:t.willStop?"":"hidden"},[i("v-uni-view",{staticClass:"icon chehui"})],1),i("v-uni-view",{staticClass:"tis",class:t.willStop?"change":""},[t._v(t._s(t.recordTis))])],1),i("give-gift-popup",{ref:"give-gift",attrs:{giftData:t.giftData},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.giveGiftChange.apply(void 0,arguments)}}}),i("gift-popup",{ref:"gift",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.giftChange.apply(void 0,arguments)}}})],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"9c08":function(t,e,i){"use strict";var n=i("45c5"),a=i.n(n);a.a},"9f05":function(t,e,i){"use strict";(function(e){i("28a5"),function(){var i={qiniuRegion:"",qiniuImageURLPrefix:"",qiniuUploadToken:"",qiniuUploadTokenURL:"",qiniuUploadTokenFunction:null,qiniuShouldUseQiniuFileName:!1};function n(t){i={qiniuRegion:"",qiniuImageURLPrefix:"",qiniuUploadToken:"",qiniuUploadTokenURL:"",qiniuUploadTokenFunction:null,qiniuShouldUseQiniuFileName:!1},a(t)}function a(t){t.region?i.qiniuRegion=t.region:e.error("qiniu uploader need your bucket region"),t.uptoken?i.qiniuUploadToken=t.uptoken:t.uptokenURL?i.qiniuUploadTokenURL=t.uptokenURL:t.uptokenFunc&&(i.qiniuUploadTokenFunction=t.uptokenFunc),t.domain&&(i.qiniuImageURLPrefix=t.domain),i.qiniuShouldUseQiniuFileName=t.shouldUseQiniuFileName}function A(t,n,A,r,c,l,d,g){if(null!=t)if(r&&a(r),i.qiniuUploadToken)o(t,n,A,r,c,l,d,g);else if(i.qiniuUploadTokenURL)s(function(){o(t,n,A,r,c,l,d,g)});else{if(!i.qiniuUploadTokenFunction)return void e.error("qiniu uploader need one of [uptoken, uptokenURL, uptokenFunc]");if(i.qiniuUploadToken=i.qiniuUploadTokenFunction(),null==i.qiniuUploadToken&&i.qiniuUploadToken.length>0)return void e.error("qiniu UploadTokenFunction result is null, please check the return value");o(t,n,A,r,c,l,d,g)}else e.error("qiniu uploader need filePath to upload")}function o(t,n,a,A,o,s,c,l){if(null==i.qiniuUploadToken&&i.qiniuUploadToken.length>0)e.error("qiniu UploadToken is null, please check the init config or networking");else{var d=r(i.qiniuRegion),g=t.split("//")[1];A&&A.key&&(g=A.key);var u={token:i.qiniuUploadToken};i.qiniuShouldUseQiniuFileName||(u["key"]=g),c&&c();var b=wx.uploadFile({url:d,filePath:t,name:"file",formData:u,success:function(t){var A=t.data;try{var o=JSON.parse(A),s=i.qiniuImageURLPrefix+"/"+o.key;o.fileUrl=s,o.imageURL=s,n&&n(o)}catch(r){e.log(r),e.log("parse JSON failed, origin String is: "+A),a&&a(r)}},fail:function(t){e.error(t),a&&a(t)},complete:function(t){l&&l(t)}});b.onProgressUpdate(function(t){o&&o(t)}),s&&s(function(){b.abort()})}}function s(t){wx.request({url:i.qiniuUploadTokenURL,success:function(n){var a=n.data.uptoken;a&&a.length>0?(i.qiniuUploadToken=a,t&&t()):e.error("qiniuUploader cannot get your token, please check the uptokenURL or server")},fail:function(t){e.error("qiniu UploadToken is null, please check the init config or networking: "+t)}})}function r(t){var i=null;switch(t){case"ECN":i="http://up.qiniup.com";break;case"NCN":i="https://up-z1.qiniup.com";break;case"SCN":i="https://up-z2.qiniup.com";break;case"NA":i="https://up-na0.qiniup.com";break;case"ASG":i="https://up-as0.qiniup.com";break;default:e.error("please make the region is with one of [ECN, SCN, NCN, NA, ASG]")}return i}t.exports={init:n,upload:A}}()}).call(this,i("5a52")["default"])},b7c3:function(t,e,i){"use strict";i.r(e);var n=i("1db7"),a=i.n(n);for(var A in n)"default"!==A&&function(t){i.d(e,t,function(){return n[t]})}(A);e["default"]=a.a},bcc2:function(t,e,i){var n=i("b041");e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:HMfont-home;src:url("data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAn8AAsAAAAAE1wAAAmvAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCFDAqWYJI9ATYCJANACyIABCAFhFUHgV8bThBRlFFWNdkXBXbDsSFQq221McNWrxUbYqGhiTju98MTeXqNh/9fo90388cEMe0bwSOJRIjavZIgESqnE5J5JqQVDZH/XdNfoHSAjqKqRsA+Tf/Ruya33E/bkdHsJtycY2XWAGbM5oenzf173A3lHrEilsmMbu74Y5VmYtxpgza9DMxkWL0gfjGbGRE54AL2f2ut3h2u8Q7RaZRCjDPLIv8cfAUR30MtEUWbSReVJkk0RB4lWWkNg7WVA1sBKmIUdr0uzibQOmxA4vrWwQXkJUweKHPfdwXkA+FSik2o1aVizyTegEKdvWINwGv59bEGY9GeTJFjW95pswIrzz3LYi//0O4JEaDrY3DZjxwXgUR8V3IfIeXARaloVRXT3mK/tsi3LubcJfese8l96Xbd1l1ve2z7eJp5lv3zB7URSdJNYd3Dfm7UUxxkGu0sLFcbVEa5pP3D6/QmokQw3OGzfJp/2kBkLJYQDYuziJbFJUSweIkoWXQRNYuEGFi0BLzFOhAjS4+InKUPRGI5I2a+kg7VSWUGoXoos2BNmGIWexwFroD8IUD6C1A9lYp8F3ClwsFgcgPdNpN08v1czkEOJ4aeieaC3QyVfb9PX2kbn9/0CwTeNAm79H1Kc2x3i9C7LcEZtMSLfE6T4aM+YWOm06dZ5cm9I+xoYw+rqGlScKKlHytu9h6Dw0E5nXK7nbTZknT1jFldR9cuzNMz9Srf7FydqpYW5mRr6Dq1OC9HqzYzoiw1cjohV2tX1Ji1K9bSdVkEbaxS1xQwpmpVpUFheyyzPyGdbXKHexkByib+vtgeK1X75xKqWl+grUNIbRZDXT31tBMiPZAyF0KmniCQhSgACkh5+gIxtvTS/si+VjbAuY6SMdCzbqInzwkjk5ENzMCkNv+ghQQ0qSSAUGmAMQoBozoAIrUe6qpzM+tma1T1jDgvVzdBWcIcLT170njGQU3cCpnUTSdkHH3ltwPHpKotTIP6HH12Lvd4czCWgbJYhY1U5ddlTCICSs1is0in8tXExk7VVRuMQhIQGgOtFcolPmMkIqDVduTGEOn1jI4gFERmSUsv3rGmoKUEQLITLUyzqpFukq8T6U+omVQsT8XHxsnipPEyBAlKNmkNMlMJgOT5Tpsoo2RGP3lOTQyk5GRBgJKw2WQsarWzSa1aLF/+UBk2PkA3wEkBM/RwOLJ0ORWiVCR3YYAAFyIlAdaNqEnmh0sTqOsAq97R85Jt+HGHrNKWgDHmxOPxumKmRGzudayPtogu9D2Zx688C3D6XJSgpgF6MJbomdtyOYBgcXOGSgMAPXqy+F11pMYHlFLCkkKM0S1T+U5SN0Ynh39SxcxmTPNHrTFIuieyxYgZXSDUAPpLLT2ZciVvihOh05k+JIAjoL7HtNsVFc5Rl+1hgAAIlNqGX3GEK0llMm0nZUdmhQzymg3Q9j6yO4FQsmqtQbXmZ+z+sOynUrt3nmbeXu3MYW9f8y38128LpWAVeyLMz4cTORbEDPYKHU19Oyx0OF12GIhfEx+/RRIm2RzPeIPE2yYRM7HBWBx+GvANWXAlMYcmWriz1/Tt2bk+jq7CdOzMu5zsn3zZXwg2Gu14YCBuh3NggN0DI8BbJpCXZb2I4xh+kdAmbU0IA6HYquya81nqYSk87Xgi35ur4HnxZWEvnoLrzbOEjHmJiY2JjV6I8c4ynSEsJTKcHxuWYPRFFleV2Sbi0Dsk4XmDSToXTMnUnW/PW9J9W4UCgP+h0rTi9tiJd6qQgk2lPI/KKeybAPx+c7vZHdimbruzyCP9iZvd0VuBuIniuXirHQ8oG2IThFIUI8QOhjfNMg86GH4Bv4ixLlr4BDi2wDDwXTYYTgfnBJur1nAw2yGngw96JhQo+48cMWVE8kWwcA55ZuzwkSP/mpp9D6wFm2e1Bc8cPVraL2Ng7y6KfSNHqQfTYByYMmbT73WNmwZs6m8sBR54XCndTHwvu6v+8N+Jze9/jeGd8bpoHePtMv0/9U6e78bTtf+aly55P40cNtJ3PH3U6xQ9DkRNos+Chp2TpNwX4lZOwkTa4nOLPxpMLc8Sm0srSwD6Y1KW7ftPZ68x3DWS8d4cJbAKE6QJEfRrhAafMLV0RoCRLhKdBaJzNtzPD7dxLIgZ7Al4006exyHEYXMewjqApFokPRIu9FvLiPf96uWlpuZmRZKiH1i0OCNj1ar7zSDqYiRbCQsMrKUXZswxBkQEbCmv2RJgKK82+UcGbpk+0woVSxekQrYCzp4Hk30E3oHhAh+4fLcOPCfzOVu3cvKkHAWzNAVyjAyOQsrJix47n0OZpbTUDKdJp8CZs+BkAKfMnDkF+kJmmrcN4OSZs8CRuwZ+N76gampCxtj83XWO5X1GYc7hIypq+N32eTe6Wr/GfXW5GukBLnvJ1gEPhlmsuUHzg3Osp/vJCZ4flGsFf27fjV18spjdTfQUuVANcgldRA3hKhSUutCGgGhDaMo0tXMHwiUq3gG5entO2xmnECa3H53AjRpKFFYIK7qrHjMJ75sEC91BPlGc0TlZY9qlsdcuZaXy0D3hfz4cmLd2WzbK3Xhhdw7c2VLCxtxsFCMEo8bArEww9ruOrc5joK9g1xp85MghQ4wyuPV71+/tMVxAMmzA1lSt+WmbjFkwL/lV6az7APzZ5qvVmmy7b1bJGrTDhmRfMBYbWMZmNOu3bJdPlLL/5WOR2XZCTJpmU4mx8lv9Fg76T8NagO4vUacJ+n/Sr0b/LYb8+1z5QCb935a0m6WWYXzwh4DO2Sa9g2jEnJ6tYwTU5jp7N2RmaHkn/gjEb/fXpmpXbkpAGaAv7pnKAfdc6bg4GZx1L3QuQ8lVC3BvXbC8f2eHQEqkBuc9aO6h9849M3oPucrgAyQY/HEv7PYJJQy23Ft3/R+xczqmsHWDgrDCyzfcl1o5ehKxnUOr5Bm6NhTGR4u1rtDEvlZ8dGgklLeNCk3ZbeKaO0bkcMfoKt+6ng/DUPPI6AAlDXlE0dzwsKPadkjqKjDXGEgg4b2CK7vx65M0xSlPmNsOA58/g1xWSDDKeq/KV5AR89+zc6OGjKSKtxUqR4NtF47VuMZemcTBDQxGqzqqrXIMCnm2xkXq1QJIIkO8EpmROcOkIyevYmhUqurWBmgCe4U5WJFHiiLKqKKOJtrooo8hxphihl6g5bGv3MAXkfBvPaFbVq6ga4Uq+wWdEfo6NVTmr1oVkYoye2NvfCWLmYQx0sjozFSxszhZ4Ctjb7QtavLQDNa0L5HRZQYJYxrNLbJR4QhZvOV46Fm/lqB428nsrJSx/OwbEgYA") format("woff2")}@font-face{font-family:iconfont;font-weight:400;font-style:normal;src:url('+n(i("05d6"))+') format("truetype")}.icon1[data-v-07ab9739]{font-family:iconfont!important;font-size:%?70?%;color:#ed4574}.icon1.gift[data-v-07ab9739]:before{content:"\\E65D"}.icon[data-v-07ab9739]{font-family:HMfont-home!important;font-size:%?56?%;font-style:normal;color:#333}.icon.biaoqing[data-v-07ab9739]:before{content:"\\E797"}.icon.jianpan[data-v-07ab9739]:before{content:"\\E7B2"}.icon.yuyin[data-v-07ab9739]:before{content:"\\E805"}.icon.tupian[data-v-07ab9739]:before{content:"\\E639"}.icon.chehui[data-v-07ab9739]:before{content:"\\E904"}.icon.luyin[data-v-07ab9739]:before{content:"\\E905"}.icon.luyin2[data-v-07ab9739]:before{content:"\\E677"}.icon.other-voice[data-v-07ab9739]:before{content:"\\E667"}.icon.my-voice[data-v-07ab9739]:before{content:"\\E906"}.icon.hongbao[data-v-07ab9739]:before{content:"\\E626"}.icon.tupian2[data-v-07ab9739]:before{content:"\\E674"}.icon.paizhao[data-v-07ab9739]:before{content:"\\E63E"}.icon.add[data-v-07ab9739]:before{content:"\\E655"}.icon.close[data-v-07ab9739]:before{content:"\\E607"}.icon.to[data-v-07ab9739]:before{content:"\\E675"}uni-page-body[data-v-07ab9739]{width:100%;height:100%;overflow:hidden;background-color:#f5f5f5}.content[data-v-07ab9739]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:100%;height:100%}.addFriend-wrap[data-v-07ab9739]{width:100%;padding:%?40?% 0}.addFriend[data-v-07ab9739]{position:absolute;left:0;top:%?1?%;z-index:9;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?80?%;padding:0 %?20?%;box-sizing:border-box;background-color:#fff}.addFriend .tips[data-v-07ab9739]{font-size:%?24?%;color:#333}.addFriend .control-wrap[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.addFriend uni-button[data-v-07ab9739]{font-size:%?20?%;border-radius:%?40?%;margin:0}.loading[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}@-webkit-keyframes stretchdelay-data-v-07ab9739{0%,40%,to{-webkit-transform:scaleY(.6);transform:scaleY(.6)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}@keyframes stretchdelay-data-v-07ab9739{0%,40%,to{-webkit-transform:scaleY(.6);transform:scaleY(.6)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}.loading .spinner[data-v-07ab9739]{margin:%?20?% 0;width:%?60?%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.loading .spinner .rect[data-v-07ab9739]{background-color:#f06c7a;height:%?50?%;width:%?6?%;border-radius:%?6?%;-webkit-animation:stretchdelay-data-v-07ab9739 1.2s infinite ease-in-out;animation:stretchdelay-data-v-07ab9739 1.2s infinite ease-in-out}.loading .spinner .rect.rect2[data-v-07ab9739]{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.loading .spinner .rect.rect3[data-v-07ab9739]{-webkit-animation-delay:-1s;animation-delay:-1s}.loading .spinner .rect.rect4[data-v-07ab9739]{-webkit-animation-delay:-.9s;animation-delay:-.9s}.loading .spinner .rect.rect5[data-v-07ab9739]{-webkit-animation-delay:-.8s;animation-delay:-.8s}.message-wrap[data-v-07ab9739]{width:100%;-webkit-box-flex:1;-webkit-flex:1;flex:1}.message-wrap .msg-list[data-v-07ab9739]{width:100%;height:100%;padding:%?20?%;box-sizing:border-box}.message-wrap .msg-list .row+.row[data-v-07ab9739]{margin-top:%?20?%}.message-wrap .msg-list .row .system[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.message-wrap .msg-list .row .system .system-content[data-v-07ab9739]{padding:0 %?30?%;height:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#c9c9c9;color:#fff;font-size:%?24?%;border-radius:%?40?%}.message-wrap .msg-list .row .my .left[data-v-07ab9739],.message-wrap .msg-list .row .other .right[data-v-07ab9739]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex}.message-wrap .msg-list .row .my .left .bubble[data-v-07ab9739],.message-wrap .msg-list .row .other .right .bubble[data-v-07ab9739]{max-width:70%;min-height:%?50?%;border-radius:%?10?%;padding:%?15?% %?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;word-break:break-word}.message-wrap .msg-list .row .my .left .bubble.img[data-v-07ab9739],.message-wrap .msg-list .row .other .right .bubble.img[data-v-07ab9739]{background-color:initial;padding:0;overflow:hidden}.message-wrap .msg-list .row .my .left .bubble.img uni-image[data-v-07ab9739],.message-wrap .msg-list .row .other .right .bubble.img uni-image[data-v-07ab9739]{width:%?350?%;height:%?350?%}.message-wrap .msg-list .row .my .left .bubble.voice .icon[data-v-07ab9739],.message-wrap .msg-list .row .other .right .bubble.voice .icon[data-v-07ab9739]{font-size:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.message-wrap .msg-list .row .my .left .bubble.voice .icon[data-v-07ab9739]:after,.message-wrap .msg-list .row .other .right .bubble.voice .icon[data-v-07ab9739]:after{content:" ";width:%?53?%;height:%?53?%;border-radius:100%;position:absolute;box-sizing:border-box}.message-wrap .msg-list .row .my .left .bubble.voice .length[data-v-07ab9739],.message-wrap .msg-list .row .other .right .bubble.voice .length[data-v-07ab9739]{font-size:%?28?%}.message-wrap .msg-list .row .my .left .bubble.gift uni-image[data-v-07ab9739],.message-wrap .msg-list .row .other .right .bubble.gift uni-image[data-v-07ab9739]{width:%?40?%;height:%?40?%}.message-wrap .msg-list .row .my .right[data-v-07ab9739],.message-wrap .msg-list .row .other .left[data-v-07ab9739]{-webkit-flex-shrink:0;flex-shrink:0;width:%?80?%;height:%?80?%}.message-wrap .msg-list .row .my .right uni-image[data-v-07ab9739],.message-wrap .msg-list .row .other .left uni-image[data-v-07ab9739]{width:%?80?%;height:%?80?%;border-radius:%?10?%}.message-wrap .msg-list .row .my[data-v-07ab9739]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.message-wrap .msg-list .row .my .left[data-v-07ab9739]{min-height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.message-wrap .msg-list .row .my .left .bubble[data-v-07ab9739]{background-color:#f06c7a;color:#fff}.message-wrap .msg-list .row .my .left .bubble.voice .icon[data-v-07ab9739]{color:#fff}.message-wrap .msg-list .row .my .left .bubble.voice .length[data-v-07ab9739]{margin-right:%?20?%}@-webkit-keyframes voicePlay-data-v-07ab9739{0%{-webkit-transform:translateX(80%);transform:translateX(80%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes voicePlay-data-v-07ab9739{0%{-webkit-transform:translateX(80%);transform:translateX(80%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}.message-wrap .msg-list .row .my .left .bubble.play .icon[data-v-07ab9739]:after{border-left:solid %?10?% rgba(240,108,122,.5);-webkit-animation:voicePlay-data-v-07ab9739 1s linear infinite;animation:voicePlay-data-v-07ab9739 1s linear infinite}.message-wrap .msg-list .row .my .right[data-v-07ab9739]{margin-left:%?15?%}.message-wrap .msg-list .row .other[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%}.message-wrap .msg-list .row .other .left[data-v-07ab9739]{margin-right:%?15?%}.message-wrap .msg-list .row .other .right[data-v-07ab9739]{-webkit-flex-wrap:wrap;flex-wrap:wrap}.message-wrap .msg-list .row .other .right .username[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;height:%?45?%;font-size:%?24?%;color:#999}.message-wrap .msg-list .row .other .right .username .name[data-v-07ab9739]{margin-right:%?50?%}.message-wrap .msg-list .row .other .right .bubble[data-v-07ab9739]{background-color:#fff;color:#333}.message-wrap .msg-list .row .other .right .bubble.voice .icon[data-v-07ab9739]{color:#333}.message-wrap .msg-list .row .other .right .bubble.voice .length[data-v-07ab9739]{margin-left:%?20?%}@-webkit-keyframes otherPlay-data-v-07ab9739{0%{-webkit-transform:translateX(-80%);transform:translateX(-80%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes otherPlay-data-v-07ab9739{0%{-webkit-transform:translateX(-80%);transform:translateX(-80%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}.message-wrap .msg-list .row .other .right .bubble.play .icon[data-v-07ab9739]:after{border-right:solid %?10?% hsla(0,0%,100%,.8);-webkit-animation:otherPlay-data-v-07ab9739 1s linear infinite;animation:otherPlay-data-v-07ab9739 1s linear infinite}.hidden[data-v-07ab9739]{display:none!important}.popup-layer[data-v-07ab9739]{width:100%;height:%?390?%;padding:%?15?%;box-sizing:border-box;background-color:#f3f3f3;border-top:%?1?% solid #ddd;position:fixed;left:0;bottom:0;z-index:9}.popup-layer .more-layer[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.popup-layer .more-layer .box[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?180?%;height:%?180?%}.popup-layer .more-layer .box .menu-item[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?160?%;height:%?160?%;border-radius:%?20?%;background-color:#fff}.popup-layer .more-layer .box .menu-item .icon[data-v-07ab9739]{font-size:%?70?%;color:#ed4574}.input-box[data-v-07ab9739]{position:fixed;left:0;bottom:0;z-index:9;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?100?%;background-color:#fff;padding:0 %?10?%;box-sizing:border-box}.input-box .more[data-v-07ab9739],.input-box .send[data-v-07ab9739],.input-box .voice[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?100?%;height:%?100?%}.input-box .send[data-v-07ab9739]{width:%?140?%}.input-box .send uni-button[data-v-07ab9739]{width:%?100?%;height:%?60?%;line-height:%?60?%;border-radius:%?10?%;font-size:%?20?%}.input-box .textbox[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?100?%}.input-box .textbox .voice-mode[data-v-07ab9739]{width:calc(100% - %?2?%);height:%?68?%;border-radius:%?70?%;border:%?1?% solid #efefef;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%;background-color:#f5f5f5;color:#555}.input-box .textbox .voice-mode.recording[data-v-07ab9739]{background-color:#e5e5e5}.input-box .textbox .text-mode[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;width:calc(100% - %?2?%);height:%?68?%;padding:0 %?30?%;box-sizing:border-box;background-color:#f5f5f5;border:%?1?% solid #efefef;border-radius:%?70?%}.input-box .textbox .text-mode .input[data-v-07ab9739]{width:100%;height:%?64?%;line-height:%?64?%}.record[data-v-07ab9739]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?300?%;height:%?300?%;position:fixed;top:55%;left:50%;background-color:rgba(0,0,0,.6);border-radius:%?20?%;margin-left:%?-150?%}.record .ing[data-v-07ab9739]{width:100%;height:%?150?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}@-webkit-keyframes volatility-data-v-07ab9739{0%{background-position:0 130%}20%{background-position:0 150%}30%{background-position:0 155%}40%{background-position:0 150%}50%{background-position:0 145%}70%{background-position:0 150%}80%{background-position:0 155%}90%{background-position:0 140%}to{background-position:0 135%}}@keyframes volatility-data-v-07ab9739{0%{background-position:0 130%}20%{background-position:0 150%}30%{background-position:0 155%}40%{background-position:0 150%}50%{background-position:0 145%}70%{background-position:0 150%}80%{background-position:0 155%}90%{background-position:0 140%}to{background-position:0 135%}}.record .ing .icon[data-v-07ab9739]{background-image:-webkit-linear-gradient(top,#f09b37,#fff 50%);background-image:linear-gradient(180deg,#f09b37,#fff 50%);background-size:100% 200%;-webkit-animation:volatility-data-v-07ab9739 1.5s ease-in-out -1.5s infinite alternate;animation:volatility-data-v-07ab9739 1.5s ease-in-out -1.5s infinite alternate;-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:%?150?%;color:#f09b37}.record .cancel[data-v-07ab9739]{width:100%;height:%?150?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.record .cancel .icon[data-v-07ab9739]{color:#fff;font-size:%?150?%}.record .tis[data-v-07ab9739]{width:100%;height:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?28?%;color:#fff}.record .tis.change[data-v-07ab9739]{color:#f09b37}body.?%PAGE?%[data-v-07ab9739]{background-color:#f5f5f5}',""])},eb4b:function(t,e,i){"use strict";i.r(e);var n=i("7e36"),a=i("b7c3");for(var A in a)"default"!==A&&function(t){i.d(e,t,function(){return a[t]})}(A);i("9c08");var o=i("f0c5"),s=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"07ab9739",null);e["default"]=s.exports}}]);