(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-invite-invite"],{"00b5":function(t,i,e){"use strict";e.r(i);var a=e("5572"),n=e("a3c4");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("e344");var r=e("f0c5"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"b52da90a",null);i["default"]=s.exports},"0b77":function(t,i,e){var a=e("9b1d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("9f445c02",a,!0,{sourceMap:!1,shadowMode:!1})},5572:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"wrapper"},[e("v-uni-view",{staticClass:"invite-popup"},[e("v-uni-view",{staticClass:"invite-info"},[e("v-uni-view",{staticClass:"anchor-wrap"},[e("v-uni-image",{staticClass:"avatar anchor-avatar",attrs:{src:t.inviteInfo.anchor.avatar,mode:""}}),e("v-uni-view",{staticClass:"user-info"},[e("v-uni-text",{staticClass:"name"},[t._v(t._s(t.inviteInfo.anchor.name))]),e("v-uni-view",{staticClass:"tag"},[e("v-uni-image",{staticClass:"tag-icon",attrs:{src:"/static/img/anchor_icon.png",mode:""}}),e("v-uni-text",{staticClass:"tag-title"},[t._v("红娘")])],1)],1)],1),e("v-uni-view",{staticClass:"audience-wrap"},[e("v-uni-image",{staticClass:"avatar audience-avatar",attrs:{src:t.inviteInfo.guest.avatar,mode:""}}),""!=t.inviteInfo.guest.id?e("v-uni-view",{staticClass:"user-info"},[e("v-uni-text",{staticClass:"name"},[t._v(t._s(t.inviteInfo.guest.name))]),e("v-uni-view",{staticClass:"info"},[e("v-uni-text",{staticClass:"age"},[t._v(t._s(t.inviteInfo.guest.age))]),e("v-uni-text",{staticClass:"city"},[t._v(t._s(t.inviteInfo.guest.city))])],1)],1):t._e()],1)],1),e("v-uni-view",{staticClass:"invite-intro"},[e("v-uni-text",{staticClass:"title"},[t._v(t._s(t.invite_title))]),"private"==t.type?e("v-uni-text",{staticClass:"intro"},[t._v("10玫瑰(每分钟)")]):t._e()],1),e("v-uni-view",{staticClass:"btn-wrap"},[e("v-uni-view",{staticClass:"btn cancel",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cancel.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"cancel-text"},[t._v("取消")])],1),e("v-uni-view",{staticClass:"btn enter",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.enter.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"enter-text"},[t._v("确定")])],1)],1)],1)],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"9b1d":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,"uni-page-body[data-v-b52da90a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:100%}.wrapper[data-v-b52da90a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:100%;background-color:rgba(0,0,0,.5)}.invite-popup[data-v-b52da90a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:%?600?%;height:%?540?%;background-color:#fff;border-radius:%?20?%}\n/* 邀请弹窗 */.invite-info[data-v-b52da90a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.avatar[data-v-b52da90a]{width:%?300?%;height:%?300?%}.user-info[data-v-b52da90a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;width:%?300?%;height:%?100?%;padding:0 %?20?%;background-image:-webkit-linear-gradient(top,transparent,rgba(0,0,0,.6));background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.6));position:absolute;left:0;bottom:0}.name[data-v-b52da90a]{font-size:%?30?%;color:#fff;margin-bottom:%?5?%}.anchor-wrap[data-v-b52da90a]{width:%?300?%;height:%?300?%;position:relative}.anchor-avatar[data-v-b52da90a]{border-top-left-radius:%?20?%}.tag[data-v-b52da90a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?3?% %?15?%;background-color:#ed4574;border-radius:20px}.tag-icon[data-v-b52da90a]{width:%?20?%;height:%?20?%;margin-right:%?5?%}.tag-title[data-v-b52da90a]{font-size:%?20?%;color:#fff}.audience-wrap[data-v-b52da90a]{width:%?300?%;height:%?300?%;position:relative}.audience-avatar[data-v-b52da90a]{border-top-right-radius:%?20?%}.info[data-v-b52da90a]{font-size:%?24?%;color:#fff}.invite-intro[data-v-b52da90a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?120?%}.title[data-v-b52da90a]{font-size:%?36?%;color:#333}.intro[data-v-b52da90a]{font-size:%?28?%;color:#666;margin-top:%?5?%}.btn-wrap[data-v-b52da90a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?120?%}.btn[data-v-b52da90a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?60?%}.cancel[data-v-b52da90a]{padding:0 %?40?%;border-width:%?1?%;border-style:solid;border-color:#999;border-radius:%?60?%}.cancel-text[data-v-b52da90a]{font-size:%?30?%;color:#666}.enter[data-v-b52da90a]{padding:0 %?40?%;border-width:%?1?%;border-style:solid;border-color:#ed4574;background-color:#ed4574;border-radius:%?60?%}.enter-text[data-v-b52da90a]{font-size:%?30?%;color:#fff}",""])},a3c4:function(t,i,e){"use strict";e.r(i);var a=e("a478"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},a478:function(t,i,e){"use strict";(function(t){var a=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("f499")),o={data:function(){return{userInfo:{},name:"",inviteInfo:{roomid:-1,type:"",fromId:"",anchor:{id:"",name:"",avatar:""},guest:{id:"",name:"",avatar:"",age:"",city:""}},type:"",invite_title:""}},onLoad:function(i){t.log("invite-page onLoad"),this.type=i.type,this.inviteInfo=JSON.parse(decodeURIComponent(i.inviteInfo)),this.inviteInfo.fromId==this.inviteInfo.anchor.id&&(this.name=this.inviteInfo.anchor.name),"private"==this.type&&(this.invite_title=this.name+"邀请您专属相亲"),"public"==this.type&&(this.invite_title=this.name+"邀请您相亲"),""==this.inviteInfo.guest.id&&(this.inviteInfo.guest.avatar="/static/img/invite_sex2.png");try{var e=uni.getStorageSync("user_info");e&&(this.userInfo=e)}catch(a){t.log(a)}},onUnload:function(){t.log("invite-page onUnload")},onReady:function(){},methods:{cancel:function(){uni.navigateBack({delta:1})},enter:function(){var i=this;"private"==this.type&&(uni.showLoading({title:""}),this.$api.api.ajaxData({method:"V1.LoveStart",uid:this.userInfo.id,token:this.userInfo.token,rid:this.inviteInfo.roomid},function(e){if(uni.hideLoading(),uni.showToast({title:e.msg,position:"bottom",icon:"none"}),e.status){var a={roomid:i.inviteInfo.roomid,id:i.userInfo.id,name:i.userInfo.name,avatar:i.userInfo.avatar,sex:i.userInfo.sex,age:i.userInfo.age,city:i.userInfo.city},o=i.$tim.createCustomMessage({to:i.inviteInfo.anchor.id+"",conversationType:i.TIM.TYPES.CONV_C2C,payload:{data:"Joined",description:"上麦成功",extension:(0,n.default)(a)}});i.$tim.sendMessage(o).then(function(i){t.log("上麦成功",i)}).catch(function(i){t.warn("上麦失败",i)}),getApp().globalData.invite_list=e.data.list;var r={room:{id:e.data.rome.id,name:e.data.rome.name},character:"audience",minute:e.data.minute};uni.redirectTo({url:"../live/live_private?live="+encodeURIComponent((0,n.default)(r))})}})),"public"==this.type&&(uni.showLoading({title:""}),this.$api.api.ajaxData({method:"V1.LoveDetail",uid:this.userInfo.id,token:this.userInfo.token,id:this.inviteInfo.roomid},function(e){if(uni.hideLoading(),uni.showToast({title:e.msg,position:"bottom",icon:"none"}),e.status){i.$tim.joinGroup({groupID:"Y"+e.data.rome.id,type:i.TIM.TYPES.GRP_AVCHATROOM}).then(function(i){t.log("申请加群",(0,n.default)(i.data))}).catch(function(i){t.warn("申请加群失败",i)}),getApp().globalData.invite_list=e.data.list;var a={room:{id:e.data.rome.id,name:e.data.rome.name},character:"audience",rose:e.data.rose};uni.redirectTo({url:"../live/live_public?live="+encodeURIComponent((0,n.default)(a))})}}))}}};i.default=o}).call(this,e("5a52")["default"])},e344:function(t,i,e){"use strict";var a=e("0b77"),n=e.n(a);n.a}}]);