(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-message-group"],{"0ec6":function(t,i,n){"use strict";var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"banner-wrap"},[n("v-uni-image",{staticClass:"banner-img",attrs:{src:t.groupInfo.avatar,mode:"aspectFill"}}),n("v-uni-view",{staticClass:"goback",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goback.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:"../../static/img/back.png",mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"group-info"},[n("v-uni-text",{staticClass:"group-name"},[t._v(t._s(t.groupInfo.name))]),n("v-uni-text",{staticClass:"group-id"},[t._v(t._s(t.groupInfo.groupID))])],1)],1),n("v-uni-view",{staticClass:"group-desc"},[n("v-uni-text",{staticClass:"title"},[t._v("群介绍")]),n("v-uni-text",{staticClass:"desc"},[t._v(t._s(t.groupInfo.introduction))])],1),n("v-uni-view",{staticClass:"btn-wrap"},[n("v-uni-button",{attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.joinGroupModal.apply(void 0,arguments)}}},[t._v("加入群聊（消耗"+t._s(t.joingroup)+"支玫瑰）")])],1)],1)},a=[];n.d(i,"a",function(){return e}),n.d(i,"b",function(){return a})},"454b":function(t,i,n){var e=n("efbd");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f06").default;a("3d6fe2da",e,!0,{sourceMap:!1,shadowMode:!1})},6333:function(t,i,n){"use strict";(function(t){var e=n("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(n("f499")),o=(e(n("a7bf")),{data:function(){return{myInfo:{},info:{},groupInfo:{groupID:"",name:"",avatar:"",introduction:""},groupOwner:{},joingroup:1}},onLoad:function(t){var i=this;this.info=JSON.parse(t.group),this.groupInfo.groupID=this.info.im_gid,this.groupInfo.name=this.info.name,this.groupInfo.introduction=this.info.description,uni.getStorage({key:"user_info",success:function(t){i.myInfo=t.data}})},onReady:function(){uni.hideTabBar(),this.getGroupInfo()},methods:{goback:function(){uni.navigateBack({delta:1})},getGroupInfo:function(){var i=this;this.$api.api.ajaxData({method:"V1.GroupInfo",uid:this.myInfo.id,token:this.myInfo.token,gid:this.info.id},function(n){uni.hideLoading(),n.status&&(i.groupOwner=n.data.user,i.joingroup=n.extra.joingroup,i.$tim.searchGroupByID(i.groupInfo.groupID+"").then(function(n){var e=n.data.group;i.groupInfo.avatar=e.avatar?e.avatar:i.groupOwner.avatar,t.log("搜素群组成功",n.data.group)}).catch(function(i){t.warn("搜素群组失败",i)}))})},joinGroupModal:function(){var t=this;uni.showModal({title:"",content:"确定支付"+this.joingroup+"支玫瑰加入群聊吗？",success:function(i){i.confirm&&t.setJoinGroupFriend()}})},setJoinGroupFriend:function(){var i=this;uni.showLoading({title:""}),this.$api.api.ajaxData({method:"V1.JoinGroupFriend",uid:this.myInfo.id,token:this.myInfo.token,touid:this.info.id,type:"group",ispay:1},function(n){if(uni.hideLoading(),n.status){var e={id:i.myInfo.id,name:i.myInfo.name,avatar:i.myInfo.avatar};i.$tim.joinGroup({groupID:i.groupInfo.groupID+"",applyMessage:(0,a.default)(e)}).then(function(n){switch(t.log("申请加群成功",n),n.data.status){case i.TIM.TYPES.JOIN_STATUS_WAIT_APPROVAL:uni.showToast({title:"申请成功，请耐心等待管理员同意",position:"bottom",icon:"none"}),setTimeout(function(){i.goback()},1e3);break;case i.TIM.TYPES.JOIN_STATUS_SUCCESS:uni.showToast({title:"加入群组成功",position:"bottom",icon:"none"}),setTimeout(function(){i.goback()},1e3);break;default:break}}).catch(function(i){t.warn("申请加群失败",i)})}else uni.showToast({title:n.msg,position:"bottom",icon:"none"})})}}});i.default=o}).call(this,n("5a52")["default"])},"9d08":function(t,i,n){"use strict";n.r(i);var e=n("0ec6"),a=n("b1c1");for(var o in a)"default"!==o&&function(t){n.d(i,t,function(){return a[t]})}(o);n("fa69");var r=n("f0c5"),s=Object(r["a"])(a["default"],e["a"],e["b"],!1,null,"60ad14d8",null);i["default"]=s.exports},a7bf:function(t,i,n){"use strict";var e=n("288e"),a=e(n("0a0d"));n("28a5");var o=e(n("59ad"));n("6b54");var r=e(n("e814"));function s(t){if("number"!==typeof t||t<0)return t;var i=(0,r.default)(t/3600);t%=3600;var n=(0,r.default)(t/60);t%=60;var e=t;return[i,n,e].map(function(t){return t=t.toString(),t[1]?t:"0"+t}).join(":")}function u(t,i){return"string"===typeof t&&"string"===typeof i&&(t=(0,o.default)(t),i=(0,o.default)(i)),t=t.toFixed(2),i=i.toFixed(2),{longitude:t.toString().split("."),latitude:i.toString().split(".")}}var d={UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3},humanize:function(t){var i="";for(var n in this.UNITS)if(t>=this.UNITS[n]){i=Math.floor(t/this.UNITS[n])+n+"前";break}return i||"刚刚"},format:function(t){var i=this.parse(t),n=(0,a.default)()-i.getTime();if(n<this.UNITS["天"])return this.humanize(n);var e=function(t){return t<10?"0"+t:t};return i.getFullYear()+"/"+e(i.getMonth()+1)+"/"+e(i.getDay())+"-"+e(i.getHours())+":"+e(i.getMinutes())},parse:function(t){var i=t.split(/[^0-9]/);return new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5])}};t.exports={formatTime:s,formatLocation:u,dateUtils:d}},b1c1:function(t,i,n){"use strict";n.r(i);var e=n("6333"),a=n.n(e);for(var o in e)"default"!==o&&function(t){n.d(i,t,function(){return e[t]})}(o);i["default"]=a.a},efbd:function(t,i,n){i=t.exports=n("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-60ad14d8]{width:100%;height:100%;background-color:#f5f5f5}.content[data-v-60ad14d8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;width:100%;height:100%}.banner-wrap[data-v-60ad14d8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative}.banner-wrap .banner-img[data-v-60ad14d8]{width:%?750?%;height:%?750?%}.banner-wrap .goback[data-v-60ad14d8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?100?%;height:%?80?%;padding-top:0;position:absolute;left:0;top:0}.banner-wrap .goback uni-image[data-v-60ad14d8]{width:%?60?%;height:%?60?%}.banner-wrap .group-info[data-v-60ad14d8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;width:100%;height:%?120?%;background-image:-webkit-linear-gradient(transparent,rgba(0,0,0,.6));background-image:linear-gradient(transparent,rgba(0,0,0,.6));padding:0 %?20?%;position:absolute;left:0;bottom:0}.banner-wrap .group-info .group-name[data-v-60ad14d8]{font-size:%?36?%;color:#fff}.banner-wrap .group-info .group-id[data-v-60ad14d8]{font-size:%?24?%;color:#fff}.group-desc[data-v-60ad14d8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;width:100%;-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:%?20?%;background-color:#fff}.group-desc .title[data-v-60ad14d8]{font-size:%?32?%;color:#333}.group-desc .desc[data-v-60ad14d8]{font-size:%?24?%;color:#666}.btn-wrap[data-v-60ad14d8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?150?%}.btn-wrap uni-button[data-v-60ad14d8]{width:80%}body.?%PAGE?%[data-v-60ad14d8]{background-color:#f5f5f5}',""])},fa69:function(t,i,n){"use strict";var e=n("454b"),a=n.n(e);a.a}}]);