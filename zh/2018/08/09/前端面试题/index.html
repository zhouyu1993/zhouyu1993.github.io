<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="theme-color" content="#222">
<meta name="description" content="zhouyu1993's blog">
<meta name="keywords" content="zhouyu1993's blog">
<meta name="format-detection" content="telephone=no,email=no,address=no">
<meta http-equiv="pragma" content="no-cache">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="zhouyu1993's blogs">








<meta http-equiv="cache-control" content="no-transform" />
<meta http-equiv="cache-control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/icon.png?v=5.1.3">


  <link rel="icon" type="image/x-icon" sizes="32x32" href="/images/favicon-32.ico?v=5.1.3">


  <link rel="icon" type="image/x-icon" sizes="16x16" href="/images/favicon-16.ico?v=5.1.3">


  <link rel="mask-icon" href="/images/icon.png?v=5.1.3" color="#222">


  <link rel="manifest" href="/images/manifest.json">




  <meta name="keywords" content="前端面试题," />










<meta name="description" content="前端面试题">
<meta name="keywords" content="前端面试题">
<meta property="og:type" content="article">
<meta property="og:title" content="前端面试题">
<meta property="og:url" content="https://zhouyu1993.github.io/zh/2018/08/09/前端面试题/index.html">
<meta property="og:site_name" content="zhouyu1993&#39;s blogs">
<meta property="og:description" content="前端面试题">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-08-14T06:36:19.412Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端面试题">
<meta name="twitter:description" content="前端面试题">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>

<script type="text/javascript">
  if (/eruda=true/.test(window.location)) {
    document.write('<scr' + 'ipt src="https://cdn.jsdelivr.net/npm/eruda"></scr' + 'ipt>')
    document.write('<scr' + 'ipt>eruda.init();</scr' + 'ipt>')
  }
</script>



  <link rel="canonical" href="https://zhouyu1993.github.io/zh/2018/08/09/前端面试题/"/>





  <title>前端面试题 | zhouyu1993's blogs</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-111529988-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zhouyu1993's blogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">web front-end developer</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhouyu1993.github.io/zh/2018/08/09/前端面试题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhouyu1993">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zhouyu1993's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">前端面试题</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-09T10:40:52+08:00">
                2018-08-09
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-08-14T14:36:19+08:00">
                2018-08-14
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/zh/2018/08/09/前端面试题/" class="leancloud_visitors" data-flag-title="前端面试题">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>前端面试题</p>
<a id="more"></a>
<h1 id="浏览器与浏览器内核"><a href="#浏览器与浏览器内核" class="headerlink" title="浏览器与浏览器内核"></a>浏览器与浏览器内核</h1><p>浏览器内核，作用是帮助浏览器来渲染网页的内容，将页面内容和排版代码转换为用户所见的视图。</p>
<p>浏览器内核分成两部分：渲染引擎 (Layout Engine 或者 Rendering Engine) 和 JS 引擎。</p>
<p>渲染引擎，负责取得网页的内容 (HTML、XML、图像等)、整理讯息 (CSS 等)，以及计算网页的显示方式，然后会输出至显示器或打印机。浏览器内核的不同对于网页的语法解释会有不同，所以渲染的效果也不相同。所有网页浏览器、电子邮件客户端以及其它需要编辑、显示网络内容的应用程序都需要内核。</p>
<p>JS 引擎，负责解析 JavaScript 语言、执行 JavaScript 语言，来实现网页的动态效果。</p>
<p><a href="http://browserl.ist/" target="_blank" rel="noopener">browser</a></p>
<p><a href="https://caniuse.com" target="_blank" rel="noopener">caniuse</a></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"browserslist"</span>: [</span><br><span class="line">    <span class="string">"&gt; 1%"</span>,</span><br><span class="line">    <span class="string">"last 3 versions"</span>,</span><br><span class="line">    <span class="string">"ie &gt;= 9"</span>,</span><br><span class="line">    <span class="string">"ios &gt;= 8"</span>,</span><br><span class="line">    <span class="string">"android &gt;= 4.4"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="PC端"><a href="#PC端" class="headerlink" title="PC端"></a>PC端</h2><p>Internet Explorer (IE 互联网探索者)，内核是：Trident</p>
<p>Safari (游猎)、Google Chrome (谷歌)，内核是：WebKit (极速)</p>
<p>Mozilla FireFox (FF 火狐)，内核是：Gecko</p>
<p>Opera (欧朋)，内核是：Presto</p>
<h2 id="移动端"><a href="#移动端" class="headerlink" title="移动端"></a>移动端</h2><p>移动端的浏览器内核主要说的是系统内置浏览器的内核。</p>
<p>移动设备浏览器上常用的内核有 WebKit，Blink，Trident，Gecko 等。</p>
<p>其中 iPhone 和 iPad 等苹果 iOS 平台主要是 WebKit，Android 4.4 之前的 Android 系统浏览器内核是 WebKit，Android 4.4 系统浏览器切换到了 Chromium，内核是 Webkit 的分支 Blink，Windows Phone 8 系统浏览器内核是 Trident。</p>
<h1 id="document-compatMode"><a href="#document-compatMode" class="headerlink" title="document.compatMode"></a>document.compatMode</h1><p>当前浏览器采用的渲染方式</p>
<p>BackCompat：标准兼容模式关闭。浏览器客户区宽度是 document.body.clientWidth。</p>
<p>CSS1Compat：标准兼容模式开启。浏览器客户区宽度是 document.documentElement.clientWidth。</p>
<h1 id="块元素、行内元素、行内块元素"><a href="#块元素、行内元素、行内块元素" class="headerlink" title="块元素、行内元素、行内块元素"></a>块元素、行内元素、行内块元素</h1><h2 id="块元素-display-block"><a href="#块元素-display-block" class="headerlink" title="块元素 display: block"></a>块元素 display: block</h2><p>div、p、nav、aside、header、footer、section、article、ul、li、address 等元素。</p>
<h2 id="行内元素-display-inline"><a href="#行内元素-display-inline" class="headerlink" title="行内元素 display: inline"></a>行内元素 display: inline</h2><p>不换行，设置 width、height 都无效，宽高由内容决定，但可以设置 line-height 来控制高度。margin 上下无效但左右有效，padding 上下左右都有效。</p>
<p>a、b、i、span 等元素。</p>
<h2 id="行内块元素-display-inline-block"><a href="#行内块元素-display-inline-block" class="headerlink" title="行内块元素 display: inline-block"></a>行内块元素 display: inline-block</h2><p>除了具有行内元素不换行的特性，其他都是块元素的特性。设置 width、height 都有效，margin 上下左右都有效。</p>
<p>img、input 等元素。</p>
<h1 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h1><p><a href="https://segmentfault.com/a/1190000005116275" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005116275</a></p>
<p><a href="https://segmentfault.com/a/1190000005155084" target="_blank" rel="noopener">https://segmentfault.com/a/1190000005155084</a></p>
<h2 id="block-box"><a href="#block-box" class="headerlink" title="block box"></a>block box</h2><p>content + padding + border + margin</p>
<h2 id="line-box"><a href="#line-box" class="headerlink" title="line box"></a>line box</h2><p>每一行称为一条 line Box，它又是由这一行的许多 inline box 组成，它的高度可以直接由 line-height 决定，line boxes 的高度垂直堆叠形成了 containing box 的高度，就是我们见到的 div 或是 p 标签之类的高度了。</p>
<h1 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h1><p>box-sizing: content-box | border-box</p>
<p>影响的其实就是内边距和边框。content-box 向外发散，border-box 向内收敛。</p>
<p>content-box: 默认值。宽度和高度分别应用到元素的内容框。在宽度和高度之外绘制元素的内边距和边框(元素默认效果。</p>
<p>如果你设置一个元素的宽为 100px，那么这个元素的内容区会有 100px 宽，并且任何边框和内边距的宽度都会被增加到最后绘制出来的元素宽度中。</p>
<p>border-box: 元素指定的任何内边距和边框都将在已设定的宽度和高度内进行绘制。通过从已设定的宽度和高度分别减去边框和内边距才能得到内容的宽度和高度(推荐)。</p>
<p>如果你将一个元素的 width 设为 100px, 那么这 100px 会包含其它的 border 和 padding，内容区的实际宽度会是 width 减去 border + padding 的计算值。</p>
<p>大多数情况下 border-box 使得我们更容易的去设定一个元素的宽高。<a href="https://css-tricks.com/international-box-sizing-awareness-day/" target="_blank" rel="noopener">链接</a>。所以我们常常这样设置：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*, *<span class="selector-pseudo">:before</span>, *<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="BFC-边距重叠解决方案"><a href="#BFC-边距重叠解决方案" class="headerlink" title="BFC(边距重叠解决方案)"></a>BFC(边距重叠解决方案)</h1><h1 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h1><h2 id="传统布局"><a href="#传统布局" class="headerlink" title="传统布局"></a>传统布局</h2><p>布局的传统解决方案，基于盒状模型，依赖 display + position + float</p>
<p>这种传统布局，对于那些特殊布局非常不方便，比如 <code>水平垂直居中</code>，就不容易实现。</p>
<h2 id="flex-布局"><a href="#flex-布局" class="headerlink" title="flex 布局"></a>flex 布局</h2><p>flex 是 Flexible Box 的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。</p>
<p>采用 flex 布局的元素，称为 flex 容器(flex container)，简称”容器”。它的所有子元素自动成为容器成员，称为 flex 项目(flex item)，简称”项目”。</p>
<h2 id="容器的属性"><a href="#容器的属性" class="headerlink" title="容器的属性"></a>容器的属性</h2><ul>
<li>display: flex;</li>
<li>flex-direction</li>
<li>flex-wrap</li>
<li>align-items</li>
<li>justify-content</li>
</ul>
<h3 id="flex-direction-row-row-reverse-column-column-reverse"><a href="#flex-direction-row-row-reverse-column-column-reverse" class="headerlink" title="flex-direction: row | row-reverse | column | column-reverse"></a>flex-direction: row | row-reverse | column | column-reverse</h3><ul>
<li>row(默认值)：主轴为水平方向，起点在左端</li>
<li>row-reverse：主轴为水平方向，起点在右端</li>
<li>column：主轴为垂直方向，起点在上沿</li>
<li>column-reverse：主轴为垂直方向，起点在下沿</li>
</ul>
<p>其实就两种，row 横，column 纵</p>
<p>reverse 代表反转方向，排列顺序</p>
<h3 id="flex-wrap-nowrap-wrap-wrap-reverse"><a href="#flex-wrap-nowrap-wrap-wrap-reverse" class="headerlink" title="flex-wrap: nowrap | wrap | wrap-reverse"></a>flex-wrap: nowrap | wrap | wrap-reverse</h3><ul>
<li>nowrap(默认)：不换行</li>
<li>wrap：换行，第一行在上方</li>
<li>wrap-reverse：换行，第一行在下方</li>
</ul>
<h3 id="align-items-flex-start-flex-end-center-baseline-stretch"><a href="#align-items-flex-start-flex-end-center-baseline-stretch" class="headerlink" title="align-items: flex-start | flex-end | center | baseline | stretch"></a>align-items: flex-start | flex-end | center | baseline | stretch</h3><p>垂直对齐方式</p>
<ul>
<li>flex-start：交叉轴的起点对齐。居上</li>
<li>flex-end：交叉轴的终点对齐。居下</li>
<li>center：交叉轴的中点对齐。居中</li>
<li>baseline: 项目的第一行文字的基线对齐</li>
<li>stretch(默认值)：如果项目未设置高度或设为 auto，将占满整个容器的高度</li>
</ul>
<h3 id="justify-content-flex-start-flex-end-center-space-between-space-around"><a href="#justify-content-flex-start-flex-end-center-space-between-space-around" class="headerlink" title="justify-content: flex-start | flex-end | center | space-between | space-around"></a>justify-content: flex-start | flex-end | center | space-between | space-around</h3><p>水平对齐方式</p>
<ul>
<li>flex-start(默认值)：左对齐</li>
<li>flex-end：右对齐</li>
<li>center：居中</li>
<li>space-between：两端对齐，项目之间的间隔都相等</li>
<li>space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍</li>
</ul>
<h2 id="实现【水平垂直居中】"><a href="#实现【水平垂直居中】" class="headerlink" title="实现【水平垂直居中】"></a>实现【水平垂直居中】</h2><ul>
<li>display: flex; + align-items: center; + justify-content: center;</li>
<li>position + top/left + margin</li>
<li>position + top/left + transform</li>
</ul>
<h1 id="position"><a href="#position" class="headerlink" title="position"></a>position</h1><p>static、fixed、relative、absolute、sticky</p>
<p>设置 position 的值为非 static，会提升元素的垂直地位 (z-index)。</p>
<p>设置 position 的值为 absolute、fixed，元素脱离文档流。</p>
<p>如果仅仅定义 position，不定义 top/margin/transform 等尾翼值，元素仍然停留在本身正常位置。</p>
<h2 id="position-relative"><a href="#position-relative" class="headerlink" title="position: relative"></a>position: relative</h2><p>相对位置，相对元素本身正常位置。</p>
<h2 id="fixed-与-absolute-的区别"><a href="#fixed-与-absolute-的区别" class="headerlink" title="fixed 与 absolute 的区别"></a>fixed 与 absolute 的区别</h2><p>fixed 浮动定位是相对于浏览器视窗的。</p>
<p>absolute 绝对定位是相对于父级中设置 position 为 relative 或者 absolute 最近的父级元素。如果父级没有会向上查找，知道 html 根节点。</p>
<h2 id="sticky"><a href="#sticky" class="headerlink" title="sticky"></a>sticky</h2><p>sticky 英文字面意思是粘，粘贴，所以可以把它称之为粘性定位。</p>
<p>position: sticky; 基于用户的滚动位置来定位。</p>
<p>粘性定位的元素是依赖于用户的滚动，在 position: relative 与 position: fixed 之间切换。</p>
<p>它的行为就像 position: relative; 而当页面滚动超出目标区域时，它的表现就像 position: fixed;，它会固定在目标位置。</p>
<p>元素定位表现为在跨越特定阈值前为相对定位，之后为固定定位。</p>
<p>这个特定阈值指的是 top, right, bottom 或 left 之一，换言之，指定 top, right, bottom 或 left 四个阈值其中之一，才可使粘性定位生效。否则其行为与相对定位相同。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.sticky</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: sticky;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://caniuse.com/#search=sticky" target="_blank" rel="noopener">兼容性低</a></p>
<p>ios &gt;= 10.3</p>
<h1 id="transform"><a href="#transform" class="headerlink" title="transform"></a>transform</h1><p><a href="https://www.zhangxinxu.com/wordpress/2015/05/css3-transform-affect/" target="_blank" rel="noopener">transform 对普通元素的 N 多渲染影响</a></p>
<h2 id="transform-提升元素的垂直地位-z-index"><a href="#transform-提升元素的垂直地位-z-index" class="headerlink" title="transform 提升元素的垂直地位 (z-index)"></a>transform 提升元素的垂直地位 (z-index)</h2><p>当遭遇元素设置 margin 负值重叠的时候，如果没有 static 以外的 position 属性值的话，后面的元素是会覆盖前面的元素的。</p>
<p>但是，元素应用了 transform 属性之后，就会变得跟应用了 position: relative 一样，原本应该被覆盖的元素会雄起，变成覆盖其他元素。</p>
<p>transform 相当于给元素加了 position: relative。</p>
<h2 id="transform-限制-position-fixed-的跟随效果"><a href="#transform-限制-position-fixed-的跟随效果" class="headerlink" title="transform 限制 position: fixed 的跟随效果"></a>transform 限制 position: fixed 的跟随效果</h2><p>设置 transform 的元素，其内部元素的 position: fixed 会失效，降级变成 position: absolute。</p>
<p>transform 相当于给元素加了 position: relative。</p>
<p>内部元素 position: fixed 变成了 position: absolute。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"transform: scale(1)"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"position: fixed"</span>&gt;</span></span><br><span class="line">    fixed 失效</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Chrome / FireFox 有这种 bug。</p>
<p>利用 这个 bug 可以使 fixed 元素相对于父级定位。</p>
<h2 id="transform-改变-overflow-对-absolute-元素的限制"><a href="#transform-改变-overflow-对-absolute-元素的限制" class="headerlink" title="transform 改变 overflow 对 absolute 元素的限制"></a>transform 改变 overflow 对 absolute 元素的限制</h2><p>absolute 绝对定位元素，如果含有 overflow 为非 visible 的父级元素，同时，该父级元素以及到该绝对定位元素之间任何嵌套元素都没有 position 为非 static 属性或 transform 属性的声明，则 overflow 对该 absolute 元素不起作用。</p>
<p>transform 相当于给元素加了 position: relative。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100px;height: 100px;overflow: hidden;background: red"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 200px;height: 200px;background: blue"</span>&gt;</span>被修剪，溢出部分不显示<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100px;height: 100px;overflow: hidden;background: red"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 200px;height: 200px;background: blue;position: absolute"</span>&gt;</span>不会被修剪，溢出部分显示<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100px;height: 100px;overflow: hidden;background: red;position: relative"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 200px;height: 200px;background: blue;position: absolute"</span>&gt;</span>被修剪，溢出部分不显示<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100px;height: 100px;overflow: hidden;background: red;transform: scale(1)"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 200px;height: 200px;background: blue;position: absolute"</span>&gt;</span>被修剪，溢出部分不显示<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="transform-限制-absolute-的-100-宽度大小"><a href="#transform-限制-absolute-的-100-宽度大小" class="headerlink" title="transform 限制 absolute 的 100% 宽度大小"></a>transform 限制 absolute 的 100% 宽度大小</h2><p>设置 absolute 元素宽度 100%, 则都会参照第一个 非 static 值的 position 或 不具有 transform 的祖先元素计算，没有就 window。</p>
<p>transform 相当于给元素加了 position: relative。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100px;height: 100px;background: red"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100%;height: 200px;background: blue"</span>&gt;</span>溢出部分显示<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100px;height: 100px;background: red;position: relative"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100%;height: 200px;background: blue;position: absolute"</span>&gt;</span>被压缩在父级元素中显示<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100px;height: 100px;overflow: hidden;background: red;transform: scale(1)"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 100%;height: 200px;background: blue;position: absolute"</span>&gt;</span>被压缩在父级元素中显示<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="float-浮动"><a href="#float-浮动" class="headerlink" title="float 浮动"></a>float 浮动</h1><p>浮动出现的意义其实只是用来<code>让文字环绕图片</code>而已，仅此而已。</p>
<p>用浮动实现页面布局本不是浮动该干的事情。</p>
<p>浮动的本质定义为“包裹与破坏”。</p>
<p><a href="https://www.zhangxinxu.com/wordpress/2010/01/css-float%E6%B5%AE%E5%8A%A8%E7%9A%84%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6%E3%80%81%E8%AF%A6%E8%A7%A3%E5%8F%8A%E6%8B%93%E5%B1%95%E4%B8%80/" target="_blank" rel="noopener">CSS float浮动 一</a></p>
<p><a href="https://www.zhangxinxu.com/wordpress/2010/01/css-float%E6%B5%AE%E5%8A%A8%E7%9A%84%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6%E3%80%81%E8%AF%A6%E8%A7%A3%E5%8F%8A%E6%8B%93%E5%B1%95%E4%BA%8C/" target="_blank" rel="noopener">CSS float浮动 二</a></p>
<h2 id="包裹性"><a href="#包裹性" class="headerlink" title="包裹性"></a>包裹性</h2><p>浮动就是个带有方位的 display: inline-block 属性。</p>
<h2 id="破坏性"><a href="#破坏性" class="headerlink" title="破坏性"></a>破坏性</h2><p>浮动破坏了正常的 line box 模型，就没有了 inline box 该有的高度，实际占据的高度为 0。</p>
<h1 id="清除浮动造成的影响"><a href="#清除浮动造成的影响" class="headerlink" title="清除浮动造成的影响"></a>清除浮动造成的影响</h1><p>所谓清除浮动，其实应该是 float: none。</p>
<p>而我们关注的其实是清除浮动造成的影响。</p>
<ul>
<li>父级 div 设置 zoom 值，并定义伪元素 ::after</li>
<li>父级 div 定义 height，并定义 overflow: hidden/auto</li>
<li>父级 div 定义 height，并也设置浮动</li>
<li>最后一个浮动元素结尾处加 <br> 或 <div> ，设置 clear: both</div></li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfloat</span> &#123;</span><br><span class="line">  <span class="attribute">zoom</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clearfloat</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">visibility</span>: hidden;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但自从用了 display: flex，再也没写过 float</p>
<h1 id="页面导入样式的几种方式"><a href="#页面导入样式的几种方式" class="headerlink" title="页面导入样式的几种方式"></a>页面导入样式的几种方式</h1><p>行内样式 </p><p style=""></p><p></p>
<p>内嵌式 <style>p{}</style></p>
<p>导入式 <style>@import ‘style.css’;</style></p>
<p>链接式 <link href="style.css"></p>
<h1 id="iframe"><a href="#iframe" class="headerlink" title="iframe"></a>iframe</h1><ul>
<li>iframe 会阻塞主页面的 onload 事件</li>
<li>iframe 和主页面共享连接池，而浏览器对相同域的连接有限制，所以会影响页面的并行加载</li>
<li>iframe 页面样式调试麻烦，出现多个滚动条</li>
<li>搜索引擎的检索程序无法解读 iframe，不利于 SEO</li>
</ul>
<h2 id="动态创建和动态销毁-iframe"><a href="#动态创建和动态销毁-iframe" class="headerlink" title="动态创建和动态销毁 iframe"></a>动态创建和动态销毁 iframe</h2><p>例如在处理 App 或微信的 webview 单页面应用时，页面 title 不刷新的问题</p>
<h2 id="iframe-与父页面的-跨域-通信"><a href="#iframe-与父页面的-跨域-通信" class="headerlink" title="iframe 与父页面的(跨域)通信"></a>iframe 与父页面的(跨域)通信</h2><p>parent.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>parent<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">"child"</span> <span class="attr">name</span>=<span class="string">"child"</span> <span class="attr">src</span>=<span class="string">"child.html"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>child.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>child<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="父页面访问子页面"><a href="#父页面访问子页面" class="headerlink" title="父页面访问子页面"></a>父页面访问子页面</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> child = <span class="built_in">document</span>.querySelector(<span class="string">'#child'</span>) <span class="comment">// child.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> childWindow = child.contentWindow <span class="comment">// child.html 的 window 对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> childDocument = child.contentDocument <span class="comment">// child.html 的 document 对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child2 = <span class="built_in">window</span>.frames[<span class="string">'child'</span>] <span class="comment">// child.html</span></span><br><span class="line"></span><br><span class="line">child === child2 <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="子页面访问父页面"><a href="#子页面访问父页面" class="headerlink" title="子页面访问父页面"></a>子页面访问父页面</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.parent <span class="comment">// 获取上一级容器的 window 对象</span></span><br><span class="line"><span class="built_in">window</span>.top <span class="comment">// 获取最顶级容器的 window 对象，即是你打开页面的文档</span></span><br><span class="line"><span class="built_in">window</span>.self <span class="comment">// 返回自身 window 的引用。可以理解 window === window.self (脑残)</span></span><br></pre></td></tr></table></figure>
<h3 id="判断当前页面是否为子页面"><a href="#判断当前页面是否为子页面" class="headerlink" title="判断当前页面是否为子页面"></a>判断当前页面是否为子页面</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.parent === <span class="built_in">window</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'当前页面不是子页面'</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'当前页面是子页面'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="postMessage-message-targetOrigin-方法与-监听-message-事件"><a href="#postMessage-message-targetOrigin-方法与-监听-message-事件" class="headerlink" title="postMessage(message, targetOrigin) 方法与 监听 message 事件"></a>postMessage(message, targetOrigin) 方法与 监听 message 事件</h3><p>子页面：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 监听 message 事件</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'message'</span>, (event) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(event)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (event.type === <span class="string">'message'</span>) &#123;</span><br><span class="line">    <span class="comment">//  &amp;&amp; event.origin === '指定源'</span></span><br><span class="line">    <span class="keyword">const</span> json = <span class="built_in">JSON</span>.parse(event.data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (+json.code === <span class="number">1001</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(json.data.word)</span><br><span class="line"></span><br><span class="line">      <span class="built_in">window</span>.parent.postMessage(<span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">        code: <span class="number">1001</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">          word: <span class="string">'我是你儿子'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        message: <span class="string">'成功'</span></span><br><span class="line">      &#125;), <span class="string">'*'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="literal">false</span>)</span><br></pre></td></tr></table></figure>
<p>父页面：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 监听 message 事件</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'message'</span>, (event) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(event)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (event.type === <span class="string">'message'</span>) &#123;</span><br><span class="line">    <span class="comment">//  &amp;&amp; event.origin === '指定源'</span></span><br><span class="line">    <span class="keyword">const</span> json = <span class="built_in">JSON</span>.parse(event.data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (+json.code === <span class="number">1001</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(json.data.word)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 给子页面发送消息</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#child'</span>).contentWindow.postMessage(<span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">  code: <span class="number">1001</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    word: <span class="string">'我是你爸爸'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  message: <span class="string">'成功'</span></span><br><span class="line">&#125;), <span class="string">'*'</span>)</span><br></pre></td></tr></table></figure>
<h1 id="伪类与伪元素"><a href="#伪类与伪元素" class="headerlink" title="伪类与伪元素"></a>伪类与伪元素</h1><h2 id="伪类"><a href="#伪类" class="headerlink" title="伪类"></a>伪类</h2><p>状态伪类</p>
<ul>
<li>:active</li>
<li>:focus</li>
<li>:hover</li>
<li>:link</li>
<li>:visited</li>
<li>:disabled</li>
<li>:checked</li>
<li>其他…</li>
</ul>
<p>结构性伪类</p>
<ul>
<li>:lang</li>
<li>:first-child</li>
<li>:last-child</li>
<li>:nth-child(n)</li>
<li>:only-child</li>
<li>:empty</li>
<li>:not(selector)</li>
<li>其他…</li>
</ul>
<h2 id="伪元素"><a href="#伪元素" class="headerlink" title="伪元素"></a>伪元素</h2><p>伪元素的由两个冒号::开头，然后是伪元素的名称</p>
<p>使用两个冒号::是为了区别伪类和伪元素(CSS2 中并没有区别)。当然，考虑到兼容性，CSS2中已存的伪元素仍然可以使用一个冒号:的语法，但是 CSS3 中新增的伪元素必须使用两个冒号::</p>
<p>一个选择器只能使用一个伪元素，并且伪元素必须处于选择器语句的最后</p>
<p>伪元素的本质是在不增加dom结构的基础上添加的一个元素，在用法上跟真正的dom无本质区别。普通元素能实现的效果，伪元素都可以。有些用伪元素效果更好，代码更精简</p>
<ul>
<li>::first-letter // 向<code>文本</code>的第一个字母添加特殊样式</li>
<li>::first-line // 向<code>文本</code>的首行添加特殊样式</li>
<li>::before // 在<code>元素</code>之前添加内容</li>
<li>::after // 在<code>元素</code>之后添加内容</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 可以设置 p 中文本的第一字母的样式 */</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::first-letter</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 可以设置 p 中文本的第一行的样式 */</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::first-line</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 可以在 p 之前添加内容 */</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">	<span class="attribute">content</span>: <span class="string">'before'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 可以在 p 之后添加内容 */</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">	<span class="attribute">content</span>: <span class="string">'after'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="css-权重"><a href="#css-权重" class="headerlink" title="css 权重"></a>css 权重</h1><p>从 0 开始，一个行内样式 +1000，一个 id +100，一个属性选择器/class 或者伪类 +10，一个元素名或者标签名或者伪元素 +1</p>
<h1 id="css-优先级"><a href="#css-优先级" class="headerlink" title="css 优先级"></a>css 优先级</h1><p>!important &gt; id &gt; 属性选择器/class/伪类 &gt; tag/伪元素 &gt; *</p>
<p>出现重复样式，后面写的样式大于前面写的样式</p>
<p>以权重决定样式规则：</p>
<ul>
<li>相同的权重：以后面出现的选择器为最后规则</li>
<li>不同的权重，权重值高则生效</li>
</ul>
<h1 id="display-none-和-visibility-hidden-的区别"><a href="#display-none-和-visibility-hidden-的区别" class="headerlink" title="display: none 和 visibility: hidden 的区别"></a>display: none 和 visibility: hidden 的区别</h1><p>display: none 隐藏对应的元素，在文档布局中不再给它分配空间，它各边的元素会合拢，就当他从来不存在。</p>
<p>visibility: hidden 隐藏对应的元素，但是在文档布局中仍保留原来的空间。</p>
<h1 id="lt-DOCTYPE-gt"><a href="#lt-DOCTYPE-gt" class="headerlink" title="&lt;!DOCTYPE&gt;"></a>&lt;!DOCTYPE&gt;</h1><p>&lt;!DOCTYPE&gt; 告知浏览器的解析器用什么文档标准解析这个文档。&lt;!DOCTYPE&gt; 不存在或格式不正确会导致文档以兼容模式呈现。</p>
<p>在标准模式中，页面的排版和 JS 运作模式都是以该浏览器支持的最高标准运行。</p>
<p>在兼容模式中，页面以宽松的向后兼容的方式显示，模拟老式浏览器的行为以防止站点无法工作。</p>
<h1 id="HTML5-为什么只需要写-lt-DOCTYPE-html-gt"><a href="#HTML5-为什么只需要写-lt-DOCTYPE-html-gt" class="headerlink" title="HTML5 为什么只需要写 &lt;!DOCTYPE html&gt;"></a>HTML5 为什么只需要写 &lt;!DOCTYPE html&gt;</h1><p>HTML5 不基于 SGML，因此不需要对 DTD (Document Type Definition) 进行引用，但是需要 DOCTYPE 来规范浏览器的行为(让浏览器按照它们应该的方式来运行)。</p>
<p>换言之，HTML4.01 及以下是基于 SGML，所以需要对 DTD 进行引用，这样才能告知浏览器文档所使用的文档类型。</p>
<p>SGML 是 Standard Generalized Markup language 标准通用标记语言。一种很强大但很复杂的标记语言，HTML、XML 就是从中衍生出来的。</p>
<p>DTD 是 Document Type Definition 文档类型定义，是一套为了进行程序间的数据交换而建立的关于标记符的语法规则。</p>
<h1 id="有哪些惊奇的-HTML5-特性"><a href="#有哪些惊奇的-HTML5-特性" class="headerlink" title="有哪些惊奇的 HTML5 特性"></a>有哪些惊奇的 HTML5 特性</h1><p>async 属性</p>
<p>语义化，比如 article、footer、header、nav、section</p>
<p>表单控件，比如 calendar、date、time、email、url、search</p>
<p>video/audio 更加友好</p>
<p>drag/drop 拖放</p>
<h2 id="拖放-drag-和-drop"><a href="#拖放-drag-和-drop" class="headerlink" title="拖放(drag 和 drop)"></a>拖放(drag 和 drop)</h2><p>设置可拖 draggable=”true” 属性</p>
<p>监听拖事件 ondragstart=”drag”</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">draggable</span>=<span class="string">"true"</span> <span class="attr">ondragstart</span>=<span class="string">"drag"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">drag (e) &#123;</span><br><span class="line">  <span class="keyword">const</span> data = e.target.id <span class="comment">// 设置需要拖的数据</span></span><br><span class="line">  e.dataTransfer.setData(<span class="string">'Text'</span>, data) <span class="comment">// 将数据设置到拖对象中，指定数据类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>设置可放 allowDrop=”allowDrop” 属性</p>
<p>监听放事件 ondrop=”drop”</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ondragover</span>=<span class="string">"allowDrop"</span> <span class="attr">ondrop</span>=<span class="string">"drop"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">allowDrop (e) &#123;</span><br><span class="line">  e.preventDefault() <span class="comment">// 阻止浏览器对数据的默认处理(drop 事件的默认行为是以链接形式打开)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">drop (e) &#123;</span><br><span class="line">  e.preventDefault() <span class="comment">// 阻止浏览器对数据的默认处理(drop 事件的默认行为是以链接形式打开)</span></span><br><span class="line">  <span class="keyword">const</span> data = e.dataTransfer.getData(<span class="string">'Text'</span>) <span class="comment">// 获取放过来的值</span></span><br><span class="line">  e.target.appendChild(<span class="built_in">document</span>.getElementById(data)) <span class="comment">// 处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="canvas"><a href="#canvas" class="headerlink" title="canvas"></a>canvas</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">"200"</span> <span class="attr">height</span>=<span class="string">"100"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>canvas 元素本身是没有绘图能力的。所有的绘制工作必须在 JavaScript 内部完成</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelect(<span class="string">'canvas'</span>)</span><br><span class="line"><span class="keyword">const</span> cxt = canvas.getContext(<span class="string">'2d'</span>)</span><br><span class="line">cxt.fillStyle = <span class="string">'#f00'</span></span><br><span class="line">cxt.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">75</span>)</span><br><span class="line"><span class="keyword">const</span> img = <span class="keyword">new</span> Image()</span><br><span class="line">img.src = <span class="string">'https://cmspic-10004025.image.myqcloud.com/4273a6c5-7b92-40e2-a0d0-841741f87b6e'</span></span><br><span class="line">cxt.drawImage(img, <span class="number">0</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h2 id="svg"><a href="#svg" class="headerlink" title="svg"></a>svg</h2><h2 id="地理定位-Geolocation"><a href="#地理定位-Geolocation" class="headerlink" title="地理定位 Geolocation"></a>地理定位 Geolocation</h2><p>依赖浏览器的定位。如果是谷歌浏览器，是依赖 <a href="https://www.googleapis.com/" target="_blank" rel="noopener">googleapis</a>。目前需要 VPN 代理。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">'geolocation'</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">  <span class="comment">// 地理位置服务可用</span></span><br><span class="line">  navigator.geolocation.getCurrentPosition(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  	<span class="built_in">console</span>.log(res, <span class="string">'success'</span>)</span><br><span class="line">  &#125;, error =&gt; &#123;</span><br><span class="line">  	<span class="built_in">console</span>.log(error, <span class="string">'error'</span>)</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">  	enableHighAccuracy: <span class="literal">true</span>, <span class="comment">// 是否使用其最高精度</span></span><br><span class="line">    timeout: <span class="number">10000</span>, <span class="comment">// 超时</span></span><br><span class="line">  	maximumAge: <span class="number">0</span>, <span class="comment">// 缓存时间</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// 地理位置服务不可用</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'地理位置服务不可用'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果项目中需要定位，可以引入高德地图、腾讯地图、百度地图等。</p>
<h2 id="Web-存储"><a href="#Web-存储" class="headerlink" title="Web 存储"></a>Web 存储</h2><p>HTML5 提供了两种在客户端存储数据的新方法</p>
<ul>
<li>localStorage - 没有时间限制的数据存储。本地离线存储，可长期存储数据，浏览器关闭后数据不丢失</li>
<li>sessionStorage - 针对一个 session 的数据存储，在浏览器关闭后自动删除</li>
</ul>
<p>之前，这些都是由 cookie 完成的。但是 cookie 不适合大量数据的存储，因为它们由每个对服务器的请求来传递，这使得 cookie 速度很慢而且效率也不高。</p>
<p>在 HTML5 中，数据不是由每个服务器请求传递的，而是只有在请求时使用数据。它使在不影响网站性能的情况下存储大量数据成为可能。</p>
<p>对于不同的网站，数据存储于不同的区域，并且一个网站只能访问其自身的数据。</p>
<p>localStorage 和 sessionStorage 虽然也有存储大小的限制，但比 cookie 大得多，可以达到5M或更大。</p>
<p>cookie 数据大小不能超过4k。设置的 cookie 过期时间之前一直有效，即使窗口或浏览器关闭。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(localStorage) <span class="comment">// 是一个类对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> localStorage) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key, localStorage[key])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这样重新赋值是无效的</span></span><br><span class="line">localStorage = &#123;</span><br><span class="line">  ...localStorage,</span><br><span class="line">  x: <span class="number">1</span>,</span><br><span class="line">  y: <span class="number">2</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// localStorage 只允许添加某属性，而且值会被转成字符串形式，</span></span><br><span class="line"></span><br><span class="line">localStorage[<span class="string">'x'</span>] = <span class="number">1</span></span><br><span class="line">localStorage.y = <span class="number">2</span></span><br><span class="line">localStorage.setItem(<span class="string">'z'</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">localStorage.setItem(<span class="string">'garbage'</span>, <span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<p>用处：</p>
<ul>
<li>利用 localStorage 来记录当前页面浏览位置。</li>
<li>利用 localStorage 来记录音视控件播放的方式：单曲循环/列表循环/顺序播放/随机播放</li>
</ul>
<h2 id="Application-Cache"><a href="#Application-Cache" class="headerlink" title="Application Cache"></a>Application Cache</h2><p>应用程序缓存</p>
<ul>
<li>离线浏览 - 用户可在应用离线时使用它们</li>
<li>速度 - 已缓存资源加载得更快</li>
<li>减少服务器负载 - 浏览器将只从服务器下载更新过或更改过的资源</li>
</ul>
<html manifest="demo.appcache"></html>

<h1 id="Web-Workers"><a href="#Web-Workers" class="headerlink" title="Web Workers"></a>Web Workers</h1><p>当在 HTML 页面中执行脚本时，页面的状态是不可响应的，直到脚本已完成<br>web worker 是运行在后台的 JavaScript，独立于其他脚本，不会影响页面的性能。您可以继续做任何愿意做的事情：点击、选取内容等等，而此时 web worker 在后台运行</p>
<p>worker.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  postMessage(++i)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span>(Worker) === <span class="string">'function'</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> w = <span class="keyword">new</span> Worker(<span class="string">'worker.js'</span>)</span><br><span class="line">  w.onmessage = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.data)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="HTML-5-服务器发送事件"><a href="#HTML-5-服务器发送事件" class="headerlink" title="HTML 5 服务器发送事件"></a>HTML 5 服务器发送事件</h1><p>postMessage</p>
<p>onopen</p>
<p>onmessage</p>
<p>onerror</p>
<h1 id="js-基本数据类型"><a href="#js-基本数据类型" class="headerlink" title="js 基本数据类型"></a>js 基本数据类型</h1><h2 id="五种基本：Undefined、Null、Boolean、Number、String"><a href="#五种基本：Undefined、Null、Boolean、Number、String" class="headerlink" title="五种基本：Undefined、Null、Boolean、Number、String"></a>五种基本：Undefined、Null、Boolean、Number、String</h2><p>NaN 是 Number 类型</p>
<h2 id="一种特殊：Object"><a href="#一种特殊：Object" class="headerlink" title="一种特殊：Object"></a>一种特殊：Object</h2><p>Object 包含三大引用类型：</p>
<ul>
<li>Object: {}</li>
<li>Array: []</li>
<li>Function: () =&gt; {}</li>
</ul>
<p>其实还有数据封装类对象：Boolean、Number、String</p>
<p>Math、Date、RegExp、Error 等</p>
<p>类数组：NodeList、Arguments</p>
<h1 id="null-与-undefined-与-NaN"><a href="#null-与-undefined-与-NaN" class="headerlink" title="null 与 undefined 与 NaN"></a>null 与 undefined 与 NaN</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// null</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">null</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">!<span class="literal">null</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">null</span>) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> <span class="comment">// 'object'，作为对象原型链的终点</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="literal">undefined</span> === <span class="literal">undefined</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">!<span class="literal">undefined</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">undefined</span>) <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> <span class="comment">// 'undefined'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// NaN</span></span><br><span class="line"><span class="literal">NaN</span> == <span class="literal">NaN</span> <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">!<span class="literal">NaN</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">NaN</span>) <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">NaN</span> <span class="comment">// 'number'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">NaN</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h1 id="this-关键词"><a href="#this-关键词" class="headerlink" title="this 关键词"></a>this 关键词</h1><p>其实就是作用域问题</p>
<p>ES6 后很少就关心了</p>
<p>偶尔涉及的时候，使用 <code>that</code> 管理一下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> that = <span class="keyword">this</span></span><br></pre></td></tr></table></figure>
<h1 id="apply-与-call"><a href="#apply-与-call" class="headerlink" title="apply 与 call"></a>apply 与 call</h1><p>调用一个对象的一个方法，用另一个对象替换当前对象</p>
<p>将一个函数的对象上下文从初始的上下文改变为由 this 指定的新对象</p>
<h2 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h2><p>只接受两个参数，新 this 对象和一个参数数组 argArray</p>
<p>Function.apply(this, [1, 2, 3])</p>
<p>this 对象应用 Function 对象的方法</p>
<h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><p>接受多个参数，第一个参数与 apply 一样，都是新 this 对象，后面则是一串参数列表</p>
<p>Function.call(this, 1, 2, 3)</p>
<p>Function 对象调用 this 对象的方法</p>
<h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span> (<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sub</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a - b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a1 = add.apply(sub, [<span class="number">4</span>, <span class="number">2</span>]) <span class="comment">// sub 应用 add 的方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a2 = sub.call(add, <span class="number">4</span>, <span class="number">2</span>) <span class="comment">// sub 应用 add 的方法</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a1);  <span class="comment">// 6</span></span><br><span class="line"><span class="built_in">console</span>.log(a2);  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<h2 id="实现继承"><a href="#实现继承" class="headerlink" title="实现继承"></a>实现继承</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.showName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">  Animal.apply(<span class="keyword">this</span>, [name])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">  Animal.call(<span class="keyword">this</span>, name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(<span class="string">'喵喵'</span>) <span class="comment">// cat 通过 apply 继承了 Animal 的 name 属性和 showName 方法</span></span><br><span class="line">cat.showName() <span class="comment">// 喵喵</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> Dog(<span class="string">'汪汪'</span>) <span class="comment">// dog 通过 call 继承了 Animal 的 name 属性和 showName 方法</span></span><br><span class="line">dog.showName() <span class="comment">// 汪汪</span></span><br></pre></td></tr></table></figure>
<h2 id="apply-和-call-的一些巧妙"><a href="#apply-和-call-的一些巧妙" class="headerlink" title="apply 和 call 的一些巧妙"></a>apply 和 call 的一些巧妙</h2><p>apply 可以将一些接受参数列表转化为接受参数数组的形式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Math.max(param1, param2...)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>] <span class="comment">// 比较大小</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Math</span>.max(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>) <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">max</span> (<span class="params">argArray</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, argArray)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">max(arr) <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// push(param1, param2...)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">arr1.push(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(arr, [<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr) <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">arr.concat(<span class="number">2</span>, <span class="number">3</span>) <span class="comment">// [1, 2, 3]</span></span><br><span class="line">arr.concat([<span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [1, 2, 3]</span></span><br><span class="line">arr.concat([[<span class="number">2</span>, <span class="number">3</span>]]) <span class="comment">// [1, [2, 3]]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.concat(arr, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.concat(arr, [<span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.concat(arr, [[<span class="number">2</span>, <span class="number">3</span>]]) <span class="comment">// [1, [2, 3]]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.concat.apply(arr, [[<span class="number">2</span>, <span class="number">3</span>]]) <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 看最后一个，[1] 应用 Array.prototype.concat 方法，[[2, 3]] 是参数列表，所以等价于：Array.prototype.concat([1], [2, 3])</span></span><br></pre></td></tr></table></figure>
<h1 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h1><p>navigator.userAgent</p>
<h1 id="HTTP-状态码"><a href="#HTTP-状态码" class="headerlink" title="HTTP 状态码"></a>HTTP 状态码</h1><p>100  Continue  继续，一般在发送post请求时，已发送了http header之后服务端将返回此信息，表示确认，之后发送具体参数信息<br>200  OK   正常返回信息<br>201  Created  请求成功并且服务器创建了新的资源<br>202  Accepted  服务器已接受请求，但尚未处理<br>301  Moved Permanently  请求的网页已永久移动到新位置。<br>302  Found  临时性重定向。<br>303  See Other  临时性重定向，且总是使用 GET 请求新的 URI。<br>304  Not Modified  自从上次请求后，请求的网页未修改过。<br>400  Bad Request  服务器无法理解请求的格式，客户端不应当尝试再次使用相同的内容发起请求。<br>401  Unauthorized  请求未授权。<br>403  Forbidden  禁止访问。<br>404  Not Found  找不到如何与 URI 相匹配的资源。<br>500  Internal Server Error  最常见的服务器端错误。<br>503  Service Unavailable 服务器端暂时无法处理请求(可能是过载或维护)。</p>
<h1 id="哪些性能优化的方法？"><a href="#哪些性能优化的方法？" class="headerlink" title="哪些性能优化的方法？"></a>哪些性能优化的方法？</h1><p>减少http请求次数：CSS Sprites, htnl、JS、CSS源码压缩、图片大小控制合适；网页Gzip，CDN托管，data缓存 ，图片服务器</p>
<p>前端模板 JS+数据，减少由于HTML标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数</p>
<p>用innerHTML代替DOM操作，减少DOM操作次数，优化javascript性能</p>
<p>当需要设置的样式很多时设置className而不是直接操作style</p>
<p>少用全局变量、缓存DOM节点查找的结果，减少IO读取操作</p>
<p>避免使用CSS Expression(css表达式)又称Dynamic properties(动态属性)</p>
<p>图片预加载</p>
<p>将样式表放在顶部，将脚本放在底部</p>
<h1 id="内存泄漏"><a href="#内存泄漏" class="headerlink" title="内存泄漏"></a>内存泄漏</h1><p>内存泄漏指任何对象在您不再拥有或需要它之后仍然存在。</p>
<p>垃圾回收器定期扫描对象，并计算引用了每个对象的其他对象的数量。如果一个对象的引用数量为 0(没有其他对象引用过该对象)，或对该对象的惟一引用是循环的，那么该对象的内存即可回收。</p>
<p>setTimeout 的第一个参数使用字符串而非函数的话，会引发内存泄漏。</p>
<p>闭包、控制台日志、循环(在两个对象彼此引用且彼此保留时，就会产生一个循环)</p>
<h1 id="线程与进程"><a href="#线程与进程" class="headerlink" title="线程与进程"></a>线程与进程</h1><p>一个程序至少有一个进程，一个进程至少有一个线程。</p>
<p>线程的划分尺度小于进程，使得多线程程序的并发性高。</p>
<p>进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率。</p>
<p>每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。</p>
<p>从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。</p>
<h1 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h1><h1 id="对象的浅拷贝和深拷贝；浅复制和深复制"><a href="#对象的浅拷贝和深拷贝；浅复制和深复制" class="headerlink" title="对象的浅拷贝和深拷贝；浅复制和深复制"></a>对象的浅拷贝和深拷贝；浅复制和深复制</h1><h1 id="js-操作获取和设置-cookie"><a href="#js-操作获取和设置-cookie" class="headerlink" title="js 操作获取和设置 cookie"></a>js 操作获取和设置 cookie</h1><h1 id="ajax-有那些优缺点"><a href="#ajax-有那些优缺点" class="headerlink" title="ajax 有那些优缺点"></a>ajax 有那些优缺点</h1><p>优点：</p>
<ul>
<li>通过异步模式，提升了用户体验.</li>
<li>优化了浏览器和服务器之间的传输，减少不必要的数据往返，减少了带宽占用.</li>
<li>Ajax在客户端运行，承担了一部分本来由服务器承担的工作，减少了大用户量下的服务器负载。</li>
<li>Ajax可以实现动态不刷新(局部刷新)</li>
</ul>
<p>缺点：</p>
<ul>
<li>安全问题 AJAX暴露了与服务器交互的细节。</li>
<li>对搜索引擎的支持比较弱。</li>
<li>不容易调试。</li>
</ul>
<h1 id="如何解决跨域问题？"><a href="#如何解决跨域问题？" class="headerlink" title="如何解决跨域问题？"></a>如何解决跨域问题？</h1><p>jsonp、iframe、window.name、window.postMessage、服务器上设置代理页面</p>
<h1 id="JavaScript-原型，原型链"><a href="#JavaScript-原型，原型链" class="headerlink" title="JavaScript 原型，原型链"></a>JavaScript 原型，原型链</h1><p>原型也是普通的对象，是对象一个自带隐式的 <strong>proto</strong> 属性。</p>
<p>原型也有可能有自己的原型。如果一个原型的原型为非 null 的话，我们就称之为原型链。</p>
<p>原型链是由一些用来继承和共享属性的对象组成的(有限的)对象链。</p>
<p>Array</p>
<p>Array.<strong>proto</strong></p>
<p>Array.<strong>proto</strong>.<strong>proto</strong></p>
<p>Array.<strong>proto</strong>.<strong>proto</strong>.<strong>proto</strong> —–&gt; null</p>
<h1 id="GET-和-POST-的区别"><a href="#GET-和-POST-的区别" class="headerlink" title="GET 和 POST 的区别"></a>GET 和 POST 的区别</h1><p>GET：一般用于信息获取，使用 URL 传递参数，对所发送信息的数量也有限制，一般在2000个字符</p>
<p>POST：一般用于修改服务器上的资源，对所发送的信息没有限制。</p>
<p>GET 方式需要使用 Request.QueryString 来取得变量的值，而 POST 方式通过 Request.Form 来获取变量的值，也就是说 GET 是通过地址栏来传值，而 POST 是通过提交表单来传值。</p>
<p>然而，在以下情况中，请使用 POST 请求：</p>
<p>无法使用缓存文件(更新服务器上的文件或数据库)</p>
<p>向服务器发送大量数据(POST 没有数据量限制)</p>
<p>发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠</p>
<h1 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h1><p>协议，域名，端口相同，同源策略是一种安全协议。</p>
<h1 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h1><p>函数可以访问函数外的变量。</p>
<p>如何在函数外使用函数内的变量呢，闭包。</p>
<p>闭包，指的是词法表示包括不被计算的变量的函数，也就是说，函数可以使用函数之外定义的变量。</p>
<p>闭包是可访问上一层函数作用域里变量的函数，即便上一层函数已经关闭。</p>
<p>闭包是子函数可以使用父函数的局部变量和参数。</p>
<p>一个拥有许多变量和绑定了这些变量的环境的表达式(通常是一个函数)，因而这些变量也是该表达式的一部分。</p>
<p>闭包就是一个函数引用另一个函数的变量，因为变量被引用着所以不会被回收，因此可以用来封装一个私有变量。这是优点也是缺点，不必要的闭包只会增加内存消耗。</p>
<p>闭包的特点：</p>
<ul>
<li>作为一个函数变量的一个引用，当函数返回时，其处于激活状态。</li>
<li>一个闭包就是当一个函数返回时，一个没有释放资源的栈区。</li>
</ul>
<h1 id="javascript-里面的继承怎么实现，如何避免原型链上面的对象共享"><a href="#javascript-里面的继承怎么实现，如何避免原型链上面的对象共享" class="headerlink" title="javascript 里面的继承怎么实现，如何避免原型链上面的对象共享"></a>javascript 里面的继承怎么实现，如何避免原型链上面的对象共享</h1><p>用构造函数和原型链的混合模式去实现继承，避免对象共享可以参考经典的 extend() 函数，很多前端框架都有封装的，就是用一个空函数当做中间变量。</p>
<h1 id="ajax-过程"><a href="#ajax-过程" class="headerlink" title="ajax 过程"></a>ajax 过程</h1><ul>
<li>创建 XHR - XMLHttpRequest 对象，也就是创建一个异步调用对象</li>
<li>创建一个新的 HTTP 请求，并指定该 HTTP 请求的方法、URL及验证信息</li>
<li>设置响应 HTTP 请求状态变化的函数</li>
<li>发送 HTTP 请求</li>
<li>获取异步调用返回的数据.</li>
<li>使用 JavaScript 和 DOM 实现局部刷新</li>
</ul>
<h1 id="游览器输入-URL-到页面加载显示完成，这个过程中都发生了什么？"><a href="#游览器输入-URL-到页面加载显示完成，这个过程中都发生了什么？" class="headerlink" title="游览器输入 URL 到页面加载显示完成，这个过程中都发生了什么？"></a>游览器输入 URL 到页面加载显示完成，这个过程中都发生了什么？</h1><p>(1)查找浏览器缓存-是否有缓存<br>(2)无缓存，做 DNS 解析、查找该域名对应的 IP 地址、重定向(301/302)、发出第二个 GET 请求<br>(3)进行 HTTP 协议会话<br>(4)客户端发送报头(请求报头)<br>(5)服务器回馈报头(响应报头)<br>(6)HTML 文档开始下载<br>(7)文档树建立，根据标记请求所需指定 MIME 类型的文件<br>(8)页面显示</p>
<h1 id="URL-和-URI-有什么不同"><a href="#URL-和-URI-有什么不同" class="headerlink" title="URL 和 URI 有什么不同?"></a>URL 和 URI 有什么不同?</h1><h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h1><h2 id="扩展运算符-spread-是三个点-…"><a href="#扩展运算符-spread-是三个点-…" class="headerlink" title="扩展运算符(spread)是三个点(…)"></a>扩展运算符(spread)是三个点(…)</h2><ul>
<li>替代函数的 apply 方法</li>
<li>复制数组(浅拷贝)</li>
<li>合并数组(浅拷贝)</li>
<li>与解构赋值结合</li>
<li>将字符串转为真正的数组</li>
<li>任何 Iterator 接口的对象 (Set 和 Map) 和 类似数组的对象 (arrayLike，nodeList)，都可以用扩展运算符转为真正的数组</li>
</ul>
<p>扩展运算符(…) 调用的是遍历器接口(Symbol.iterator)，如果一个对象没有部署这个接口，就无法转换。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [</span><br><span class="line">  &#123;</span><br><span class="line">    key: <span class="string">'value'</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr2 = [...a1] <span class="comment">// arr2 对 arr1 的浅拷贝，克隆</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 改变 arr1 中的值，会</span></span><br></pre></td></tr></table></figure>
<h2 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h2><p>Array.from 方法用于将两类对象转为真正的数组：类似数组的对象(arrayLike，nodeList)和可遍历(iterable)的对象(包括 ES6 新增的数据结构 Set 和 Map)。</p>
<p>所谓类似数组的对象，本质特征只有一点，即必须有length属性。因此，任何有length属性的对象，都可以通过 Array.from 方法转为数组，而此时扩展运算符 (…) 就无法转换。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="number">3</span> &#125;)</span><br><span class="line"><span class="comment">// [ undefined, undefined, undefined ]</span></span><br></pre></td></tr></table></figure>
<h2 id="fill"><a href="#fill" class="headerlink" title="fill()"></a>fill()</h2><h2 id="find-和-findIndex"><a href="#find-和-findIndex" class="headerlink" title="find() 和 findIndex()"></a>find() 和 findIndex()</h2><h2 id="entries-，keys-和values"><a href="#entries-，keys-和values" class="headerlink" title="entries()，keys()和values()"></a>entries()，keys()和values()</h2><h2 id="entries-，keys-和values-1"><a href="#entries-，keys-和values-1" class="headerlink" title="entries()，keys()和values()"></a>entries()，keys()和values()</h2><h1 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h1><p><a href="https://www.jianshu.com/p/b1dd80f4d542" target="_blank" rel="noopener">https://www.jianshu.com/p/b1dd80f4d542</a></p>
<h2 id="计算属性-computed-与方法-methods"><a href="#计算属性-computed-与方法-methods" class="headerlink" title="计算属性 (computed) 与方法 (methods)"></a>计算属性 (computed) 与方法 (methods)</h2><p>计算属性是基于它们的依赖进行缓存的。计算属性只有在它的相关依赖发生改变时才会重新求值。这就意味着只要相关依赖没有发生改变，多次访问计算属性会立即返回之前的计算结果，而不必再次执行函数。</p>
<p>相比之下，每当触发重新渲染时，调用方法将总会再次执行函数。</p>
<h2 id="计算属性-computed-与侦听属性-watch"><a href="#计算属性-computed-与侦听属性-watch" class="headerlink" title="计算属性 (computed) 与侦听属性 (watch)"></a>计算属性 (computed) 与侦听属性 (watch)</h2><p>当需要在数据变化时执行异步或开销较大的操作时，侦听属性 (watch) 最有用。</p>
<p>使用 watch 选项允许我们执行异步操作 (访问一个 API)，限制我们执行该操作的频率，并在我们得到最终结果前，设置中间状态。这些都是计算属性无法做到的。</p>
<h2 id="用-key-管理可复用的元素"><a href="#用-key-管理可复用的元素" class="headerlink" title="用 key 管理可复用的元素"></a>用 key 管理可复用的元素</h2><p>Vue 为你提供了一种方式来表达 “这两个元素是完全独立的，不要复用它们”。只需添加一个具有唯一值的 key 属性即可。</p>
<p>在使用 v-for 时，key 是必须的！</p>
<p><a href="https://cn.vuejs.org/v2/guide/list.html#key" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/list.html#key</a></p>
<p>v-for 的 in 和 of</p>
<p>v-for=”todo in todos”</p>
<p>v-for=”todo of todos”</p>
<p>v-for=”n in 10”</p>
<h2 id="v-if-和-v-show-区别"><a href="#v-if-和-v-show-区别" class="headerlink" title="v-if 和 v-show 区别"></a>v-if 和 v-show 区别</h2><p>v-if 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。</p>
<p>v-if 也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。</p>
<p>相比之下，v-show 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。</p>
<p>一般来说，v-if 有更高的切换开销，而 v-show 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 v-show 较好；如果在运行时条件很少改变，则使用 v-if 较好。</p>
<h2 id="为什么避免-v-if-和-v-for-一起使用"><a href="#为什么避免-v-if-和-v-for-一起使用" class="headerlink" title="为什么避免 v-if 和 v-for 一起使用"></a>为什么避免 v-if 和 v-for 一起使用</h2><p>当 v-if 与 v-for 一起使用时，v-for 具有比 v-if 更高的优先级，这意味着 v-if 将分别重复运行于每个 v-for 循环中。[当你想为仅有的一些项渲染节点时，这种优先级的机制会十分有用]</p>
<h2 id="组件通信"><a href="#组件通信" class="headerlink" title="组件通信"></a>组件通信</h2><ul>
<li>父组件与子组件传值<ul>
<li>父组件通过标签上面定义属性传值 [v-on:property]</li>
<li>子组件通过 props 选项接受数据</li>
</ul>
</li>
<li>子组件向父组件传递数据<ul>
<li>父组件通过标签上面定义事件 [v-on:function]</li>
<li>子组件通过 $emit 触发事件，可以传递值</li>
</ul>
</li>
<li>组件上使用 v-model</li>
<li>利用 vuex</li>
</ul>
<h2 id="vue-如何实现按需加载"><a href="#vue-如何实现按需加载" class="headerlink" title="vue 如何实现按需加载"></a>vue 如何实现按需加载</h2><p>异步组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  component: <span class="keyword">async</span> () =&gt; <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">'./wxarticles/wxarticle/index.vue'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或者 webpack 的 require.ensure</p>
<h2 id="vue-的生命周期"><a href="#vue-的生命周期" class="headerlink" title="vue 的生命周期"></a>vue 的生命周期</h2><p>创建前/后，载入前/后，更新前/后，销毁前/销毁后</p>
<p>beforeCreate</p>
<ul>
<li>在实例初始化之后，数据观测 (data observer) 和 event/watcher 事件配置之前被调用。</li>
</ul>
<p>created</p>
<ul>
<li>在实例创建完成后被立即调用。在这一步，实例已完成以下的配置：数据观测 (data observer)，属性和方法的运算，watch/event 事件回调。然而，挂载阶段还没开始，$el 属性目前不可见。</li>
</ul>
<p>beforeMount</p>
<ul>
<li>在挂载开始之前被调用：相关的 render 函数首次被调用。</li>
<li>该钩子在服务器端渲染期间不被调用。</li>
</ul>
<p>mounted</p>
<ul>
<li>el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。如果 root 实例挂载了一个文档内元素，当 mounted 被调用时 vm.$el 也在文档内。</li>
<li><p>注意 mounted 不会承诺所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以用 vm.$nextTick 替换掉 mounted。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mounted: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Code that will run only after the</span></span><br><span class="line">    <span class="comment">// entire view has been rendered</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>该钩子在服务器端渲染期间不被调用。</p>
</li>
</ul>
<p>beforeUpdate</p>
<ul>
<li>数据更新时调用，发生在虚拟 DOM 打补丁之前。这里适合在更新之前访问现有的 DOM，比如手动移除已添加的事件监听器。</li>
<li>该钩子在服务器端渲染期间不被调用，因为只有初次渲染会在服务端进行。</li>
</ul>
<p>updated</p>
<ul>
<li>由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。</li>
<li>当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，通常最好使用计算属性或 watcher 取而代之。</li>
<li><p>注意 updated 不会承诺所有的子组件也都一起被重绘。如果你希望等到整个视图都重绘完毕，可以用 vm.$nextTick 替换掉 updated</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">updated: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Code that will run only after the</span></span><br><span class="line">    <span class="comment">// entire view has been rendered</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>该钩子在服务器端渲染期间不被调用。</p>
</li>
</ul>
<p>beforeDestroy</p>
<ul>
<li>实例销毁之前调用。在这一步，实例仍然完全可用。</li>
<li>该钩子在服务器端渲染期间不被调用。</li>
</ul>
<p>destroyed</p>
<ul>
<li>Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。</li>
<li>该钩子在服务器端渲染期间不被调用。</li>
</ul>
<h2 id="节点、树以及虚拟-DOM"><a href="#节点、树以及虚拟-DOM" class="headerlink" title="节点、树以及虚拟 DOM"></a>节点、树以及虚拟 DOM</h2><p>VNode，Virtual Node 虚拟节点</p>
<p>组件树中的所有 VNodes 必须是唯一的</p>
<p>Vue 通过建立一个虚拟 DOM 对真实 DOM 发生的变化保持追踪</p>
<h2 id="什么是-MVVM"><a href="#什么是-MVVM" class="headerlink" title="什么是 MVVM"></a>什么是 MVVM</h2><p>Model-View-ViewModel，MVC 的改进版。</p>
<p>Model 层代表数据模型，在 Model 中定义数据修改和操作的业务逻辑。</p>
<p>View 代表 UI 组件，它负责将数据模型转化成 UI 展现出来。</p>
<p>ViewModel 是一个同步 View 和 Model 的对象。</p>
<p>Model 和 View 之间并没有直接的联系，而是通过 ViewModel 进行交互，Model 和 ViewModel 之间的交互是双向的，因此 View 数据的变化会同步到 Model 中，而 Model 数据的变化也会立即反应到 View 上。</p>
<p>ViewModel 通过双向数据绑定把 View 层和 Model 层连接了起来，而 View 和 Model 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需关注业务逻辑，不需要手动操作 DOM，不需要关注数据状态的同步问题，复杂的数据状态维护完全由 MVVM 来统一管理。</p>
<ol>
<li>低耦合。视图(View)可以独立于 Model 变化和修改，一个 ViewModel 可以绑定到不同的 View 上，当 View 变化的时候 Model 可以不变，当 Model 变化的时候 View 也可以不变。</li>
<li>可重用性。你可以把一些视图逻辑放在一个 ViewModel 里面，让很多 View 重用这段视图逻辑。</li>
<li>独立开发。开发人员可以专注于业务逻辑和数据的开发(ViewModel)，设计人员可以专注于页面设计</li>
<li>可测试。界面素来是比较难于测试的，而现在测试可以针对 ViewModel 来写。</li>
</ol>
<h2 id="MVVM-和-MVC-区别"><a href="#MVVM-和-MVC-区别" class="headerlink" title="MVVM 和 MVC 区别"></a>MVVM 和 MVC 区别</h2><p>Model View Controller</p>
<p>Model(模型)表示应用程序核心(比如数据库记录列表)。<br>View(视图)显示数据(数据库记录)。<br>Controller(控制器)处理输入(写入数据库记录)。</p>
<p>区别并不大。主要就是 MVC 中 Controller 演变成 MMVVM 中的 ViewModel。</p>
<p>MVC 中改变 View 需要大量的 DOM 操作，这使页面渲染性能降低，加载速度变慢，影响用户体验。</p>
<p>MVVM 是数据驱动，通过数据来显示视图层而不是节点操作。数据操作比较多的场景，更加便捷。</p>
<h2 id="vue-的优点"><a href="#vue-的优点" class="headerlink" title="vue 的优点"></a>vue 的优点</h2><ol>
<li>低耦合。视图(View)可以独立于 Model 变化和修改，一个 ViewModel 可以绑定到不同的 View 上，当 View 变化的时候 Model 可以不变，当 Model 变化的时候 View 也可以不变。</li>
<li>可重用性。你可以把一些视图逻辑放在一个 ViewModel 里面，让很多 View 重用这段视图逻辑。</li>
<li>独立开发。开发人员可以专注于业务逻辑和数据的开发(ViewModel)，设计人员可以专注于页面设计</li>
<li>可测试。界面素来是比较难于测试的，而现在测试可以针对 ViewModel 来写。</li>
</ol>
<h2 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h2><h3 id="路由之间跳转"><a href="#路由之间跳转" class="headerlink" title="路由之间跳转"></a>路由之间跳转</h3><p>声明式(标签跳转) 编程式( js跳转)</p>
<h3 id="navigation-guards-导航守卫"><a href="#navigation-guards-导航守卫" class="headerlink" title="navigation-guards 导航守卫"></a>navigation-guards 导航守卫</h3><p>全局守卫、路由独享的守卫、组件内的守卫</p>
<h2 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h2><h1 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h1><p>wepy</p>
<p>mpvue</p>
<ul>
<li>请勿在 scroll-view 中使用 textarea、map、canvas、video 组件。在 <scroll-view> 中滚动时，<textarea> 的 placeholder 和内容会固定不动，好像 fixed 了</textarea></scroll-view></li>
<li>wx.showShareMenu 与 wx.updateShareMenu 的区别</li>
<li><navigator hover-class="none"> 去除点击态效果</navigator></li>
<li><input> 微信版本 6.3.30, focus 属性设置无效；placeholder 在聚焦时出现重影问题；字体是系统字体，所以无法设置 font-family；在 input 聚焦期间，避免使用 css 动画</li>
<li><code>hidden</code> 属性的作用，其实是 <code>*[hidden]{display:none}</code>，存在被覆盖从而失效的可能</li>
<li>前端 wx.login 换取 code (后端通过 code 换取 session_key)，前端 shareTicket 解析 encryptedData、iv，后端拿 session_key、encryptedData、iv 解析群信息如 openGId 存在失败的可能。<code>执行顺序很关键！得先解析 wx.login 换取 code，再用 shareTicket 解析 encryptedData、iv</code></li>
<li>开发版二维码可以在微信开发者工具中生成，可带参数；体验版二维码可以在微信公众平台中[开发管理-&gt;开发版本-&gt;修改页面路径带参数]</li>
<li><p>并发请求限制</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">每次切换后，同时请求三条接口(并发)，会导致手机卡顿，所有改成请求一条接口后，再请求其他接口。</span><br><span class="line"></span><br><span class="line">当前tab下请求发出，打一个loading=<span class="literal">true</span>，只要当前tab下请求不结束，不再触发同一请求。</span><br><span class="line"></span><br><span class="line">tab有5个item。点击每个item，需要请求对应的数据。当用户点击第1个item，请求第1类数据时，因为接口异步，无法及时返回；而用户迅速点击第2个item，会去请求第2类数据；类似操作，用户在5个item之间来回切换，网速慢，会导致有很多接口在同时请求(请求发出但迟迟不返回视为请求中)，超出了小程序的限制，导致页面操作卡顿！</span><br><span class="line"></span><br><span class="line">所以需要对请求加以限制(节流)。当用户点击第1个item请求第1类接口，然后来回切换，切换回第1个item时，如果第1类接口不结束那就不应该再次发起。</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> apiLoading1 = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> requestApi1 = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (apiLoading1) <span class="keyword">return</span></span><br><span class="line">  apiLoading1 = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> request(api1)</span><br><span class="line"></span><br><span class="line">  apiLoading1 = <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">clickItem1 () &#123;</span><br><span class="line">  <span class="comment">// 点击事件</span></span><br><span class="line">  requestApi()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/images/wechat-qcode.png" alt="zhouyu1993 wechat" style="width: 200px; max-width: 100%;"/>
    <div>扫一扫上面的二维码，奇妙的世界等着你！</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>坚持技术分享，您的支持将鼓励我！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="zhouyu1993 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="zhouyu1993 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/前端面试题/" rel="tag"># 前端面试题</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/zh/2018/08/08/Mac软件推荐/" rel="next" title="Mac软件推荐">
                <i class="fa fa-chevron-left"></i> Mac软件推荐
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/zh/2018/08/13/webpack中alias别名配置/" rel="prev" title="webpack中alias别名配置">
                webpack中alias别名配置 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zMjYwNi85MTY3"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="zhouyu1993" />
            
              <p class="site-author-name" itemprop="name">zhouyu1993</p>
              <p class="site-description motion-element" itemprop="description">zhouyu1993's blogs</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/zhouyu1993/" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://stackoverflow.com/users/9129348/joy-rain/" target="_blank" title="StackOverflow">
                    
                      <i class="fa fa-fw fa-stack-overflow"></i>StackOverflow</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:1490079545@qq.com/" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://plus.google.com/100806722192060947141/" target="_blank" title="Google">
                    
                      <i class="fa fa-fw fa-google"></i>Google</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://weibo.com/yu917and130bing/" target="_blank" title="微博">
                    
                      <i class="fa fa-fw fa-weibo"></i>微博</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.zhihu.com/people/rainjoy/" target="_blank" title="知乎">
                    
                      <i class="fa fa-fw fa-globe"></i>知乎</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://gwyloved.github.io/" title="sample's blogs" target="_blank">sample's blogs</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#浏览器与浏览器内核"><span class="nav-number">1.</span> <span class="nav-text">浏览器与浏览器内核</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PC端"><span class="nav-number">1.1.</span> <span class="nav-text">PC端</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#移动端"><span class="nav-number">1.2.</span> <span class="nav-text">移动端</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#document-compatMode"><span class="nav-number">2.</span> <span class="nav-text">document.compatMode</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#块元素、行内元素、行内块元素"><span class="nav-number">3.</span> <span class="nav-text">块元素、行内元素、行内块元素</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#块元素-display-block"><span class="nav-number">3.1.</span> <span class="nav-text">块元素 display: block</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#行内元素-display-inline"><span class="nav-number">3.2.</span> <span class="nav-text">行内元素 display: inline</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#行内块元素-display-inline-block"><span class="nav-number">3.3.</span> <span class="nav-text">行内块元素 display: inline-block</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#盒模型"><span class="nav-number">4.</span> <span class="nav-text">盒模型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#block-box"><span class="nav-number">4.1.</span> <span class="nav-text">block box</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#line-box"><span class="nav-number">4.2.</span> <span class="nav-text">line box</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#box-sizing"><span class="nav-number">5.</span> <span class="nav-text">box-sizing</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BFC-边距重叠解决方案"><span class="nav-number">6.</span> <span class="nav-text">BFC(边距重叠解决方案)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#布局"><span class="nav-number">7.</span> <span class="nav-text">布局</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#传统布局"><span class="nav-number">7.1.</span> <span class="nav-text">传统布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#flex-布局"><span class="nav-number">7.2.</span> <span class="nav-text">flex 布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#容器的属性"><span class="nav-number">7.3.</span> <span class="nav-text">容器的属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#flex-direction-row-row-reverse-column-column-reverse"><span class="nav-number">7.3.1.</span> <span class="nav-text">flex-direction: row | row-reverse | column | column-reverse</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flex-wrap-nowrap-wrap-wrap-reverse"><span class="nav-number">7.3.2.</span> <span class="nav-text">flex-wrap: nowrap | wrap | wrap-reverse</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#align-items-flex-start-flex-end-center-baseline-stretch"><span class="nav-number">7.3.3.</span> <span class="nav-text">align-items: flex-start | flex-end | center | baseline | stretch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#justify-content-flex-start-flex-end-center-space-between-space-around"><span class="nav-number">7.3.4.</span> <span class="nav-text">justify-content: flex-start | flex-end | center | space-between | space-around</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现【水平垂直居中】"><span class="nav-number">7.4.</span> <span class="nav-text">实现【水平垂直居中】</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#position"><span class="nav-number">8.</span> <span class="nav-text">position</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#position-relative"><span class="nav-number">8.1.</span> <span class="nav-text">position: relative</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#fixed-与-absolute-的区别"><span class="nav-number">8.2.</span> <span class="nav-text">fixed 与 absolute 的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sticky"><span class="nav-number">8.3.</span> <span class="nav-text">sticky</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#transform"><span class="nav-number">9.</span> <span class="nav-text">transform</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#transform-提升元素的垂直地位-z-index"><span class="nav-number">9.1.</span> <span class="nav-text">transform 提升元素的垂直地位 (z-index)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#transform-限制-position-fixed-的跟随效果"><span class="nav-number">9.2.</span> <span class="nav-text">transform 限制 position: fixed 的跟随效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#transform-改变-overflow-对-absolute-元素的限制"><span class="nav-number">9.3.</span> <span class="nav-text">transform 改变 overflow 对 absolute 元素的限制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#transform-限制-absolute-的-100-宽度大小"><span class="nav-number">9.4.</span> <span class="nav-text">transform 限制 absolute 的 100% 宽度大小</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#float-浮动"><span class="nav-number">10.</span> <span class="nav-text">float 浮动</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#包裹性"><span class="nav-number">10.1.</span> <span class="nav-text">包裹性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#破坏性"><span class="nav-number">10.2.</span> <span class="nav-text">破坏性</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#清除浮动造成的影响"><span class="nav-number">11.</span> <span class="nav-text">清除浮动造成的影响</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#页面导入样式的几种方式"><span class="nav-number">12.</span> <span class="nav-text">页面导入样式的几种方式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#iframe"><span class="nav-number">13.</span> <span class="nav-text">iframe</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#动态创建和动态销毁-iframe"><span class="nav-number">13.1.</span> <span class="nav-text">动态创建和动态销毁 iframe</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iframe-与父页面的-跨域-通信"><span class="nav-number">13.2.</span> <span class="nav-text">iframe 与父页面的(跨域)通信</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#父页面访问子页面"><span class="nav-number">13.2.1.</span> <span class="nav-text">父页面访问子页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#子页面访问父页面"><span class="nav-number">13.2.2.</span> <span class="nav-text">子页面访问父页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#判断当前页面是否为子页面"><span class="nav-number">13.2.3.</span> <span class="nav-text">判断当前页面是否为子页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#postMessage-message-targetOrigin-方法与-监听-message-事件"><span class="nav-number">13.2.4.</span> <span class="nav-text">postMessage(message, targetOrigin) 方法与 监听 message 事件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#伪类与伪元素"><span class="nav-number">14.</span> <span class="nav-text">伪类与伪元素</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#伪类"><span class="nav-number">14.1.</span> <span class="nav-text">伪类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#伪元素"><span class="nav-number">14.2.</span> <span class="nav-text">伪元素</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#css-权重"><span class="nav-number">15.</span> <span class="nav-text">css 权重</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#css-优先级"><span class="nav-number">16.</span> <span class="nav-text">css 优先级</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#display-none-和-visibility-hidden-的区别"><span class="nav-number">17.</span> <span class="nav-text">display: none 和 visibility: hidden 的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lt-DOCTYPE-gt"><span class="nav-number">18.</span> <span class="nav-text">&lt;!DOCTYPE&gt;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTML5-为什么只需要写-lt-DOCTYPE-html-gt"><span class="nav-number">19.</span> <span class="nav-text">HTML5 为什么只需要写 &lt;!DOCTYPE html&gt;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#有哪些惊奇的-HTML5-特性"><span class="nav-number">20.</span> <span class="nav-text">有哪些惊奇的 HTML5 特性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#拖放-drag-和-drop"><span class="nav-number">20.1.</span> <span class="nav-text">拖放(drag 和 drop)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#canvas"><span class="nav-number">20.2.</span> <span class="nav-text">canvas</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#svg"><span class="nav-number">20.3.</span> <span class="nav-text">svg</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#地理定位-Geolocation"><span class="nav-number">20.4.</span> <span class="nav-text">地理定位 Geolocation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web-存储"><span class="nav-number">20.5.</span> <span class="nav-text">Web 存储</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Application-Cache"><span class="nav-number">20.6.</span> <span class="nav-text">Application Cache</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Web-Workers"><span class="nav-number">21.</span> <span class="nav-text">Web Workers</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTML-5-服务器发送事件"><span class="nav-number">22.</span> <span class="nav-text">HTML 5 服务器发送事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#js-基本数据类型"><span class="nav-number">23.</span> <span class="nav-text">js 基本数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#五种基本：Undefined、Null、Boolean、Number、String"><span class="nav-number">23.1.</span> <span class="nav-text">五种基本：Undefined、Null、Boolean、Number、String</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一种特殊：Object"><span class="nav-number">23.2.</span> <span class="nav-text">一种特殊：Object</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#null-与-undefined-与-NaN"><span class="nav-number">24.</span> <span class="nav-text">null 与 undefined 与 NaN</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#this-关键词"><span class="nav-number">25.</span> <span class="nav-text">this 关键词</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#apply-与-call"><span class="nav-number">26.</span> <span class="nav-text">apply 与 call</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#apply"><span class="nav-number">26.1.</span> <span class="nav-text">apply</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#call"><span class="nav-number">26.2.</span> <span class="nav-text">call</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#基本使用"><span class="nav-number">26.3.</span> <span class="nav-text">基本使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现继承"><span class="nav-number">26.4.</span> <span class="nav-text">实现继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#apply-和-call-的一些巧妙"><span class="nav-number">26.5.</span> <span class="nav-text">apply 和 call 的一些巧妙</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#navigator"><span class="nav-number">27.</span> <span class="nav-text">navigator</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTTP-状态码"><span class="nav-number">28.</span> <span class="nav-text">HTTP 状态码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#哪些性能优化的方法？"><span class="nav-number">29.</span> <span class="nav-text">哪些性能优化的方法？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#内存泄漏"><span class="nav-number">30.</span> <span class="nav-text">内存泄漏</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#线程与进程"><span class="nav-number">31.</span> <span class="nav-text">线程与进程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数组去重"><span class="nav-number">32.</span> <span class="nav-text">数组去重</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#对象的浅拷贝和深拷贝；浅复制和深复制"><span class="nav-number">33.</span> <span class="nav-text">对象的浅拷贝和深拷贝；浅复制和深复制</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#js-操作获取和设置-cookie"><span class="nav-number">34.</span> <span class="nav-text">js 操作获取和设置 cookie</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ajax-有那些优缺点"><span class="nav-number">35.</span> <span class="nav-text">ajax 有那些优缺点</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何解决跨域问题？"><span class="nav-number">36.</span> <span class="nav-text">如何解决跨域问题？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaScript-原型，原型链"><span class="nav-number">37.</span> <span class="nav-text">JavaScript 原型，原型链</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#GET-和-POST-的区别"><span class="nav-number">38.</span> <span class="nav-text">GET 和 POST 的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#同源策略"><span class="nav-number">39.</span> <span class="nav-text">同源策略</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#闭包"><span class="nav-number">40.</span> <span class="nav-text">闭包</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#javascript-里面的继承怎么实现，如何避免原型链上面的对象共享"><span class="nav-number">41.</span> <span class="nav-text">javascript 里面的继承怎么实现，如何避免原型链上面的对象共享</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ajax-过程"><span class="nav-number">42.</span> <span class="nav-text">ajax 过程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#游览器输入-URL-到页面加载显示完成，这个过程中都发生了什么？"><span class="nav-number">43.</span> <span class="nav-text">游览器输入 URL 到页面加载显示完成，这个过程中都发生了什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#URL-和-URI-有什么不同"><span class="nav-number">44.</span> <span class="nav-text">URL 和 URI 有什么不同?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ES6"><span class="nav-number">45.</span> <span class="nav-text">ES6</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#扩展运算符-spread-是三个点-…"><span class="nav-number">45.1.</span> <span class="nav-text">扩展运算符(spread)是三个点(…)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array-from"><span class="nav-number">45.2.</span> <span class="nav-text">Array.from()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#fill"><span class="nav-number">45.3.</span> <span class="nav-text">fill()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#find-和-findIndex"><span class="nav-number">45.4.</span> <span class="nav-text">find() 和 findIndex()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#entries-，keys-和values"><span class="nav-number">45.5.</span> <span class="nav-text">entries()，keys()和values()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#entries-，keys-和values-1"><span class="nav-number">45.6.</span> <span class="nav-text">entries()，keys()和values()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#vue"><span class="nav-number">46.</span> <span class="nav-text">vue</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#计算属性-computed-与方法-methods"><span class="nav-number">46.1.</span> <span class="nav-text">计算属性 (computed) 与方法 (methods)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#计算属性-computed-与侦听属性-watch"><span class="nav-number">46.2.</span> <span class="nav-text">计算属性 (computed) 与侦听属性 (watch)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用-key-管理可复用的元素"><span class="nav-number">46.3.</span> <span class="nav-text">用 key 管理可复用的元素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#v-if-和-v-show-区别"><span class="nav-number">46.4.</span> <span class="nav-text">v-if 和 v-show 区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#为什么避免-v-if-和-v-for-一起使用"><span class="nav-number">46.5.</span> <span class="nav-text">为什么避免 v-if 和 v-for 一起使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#组件通信"><span class="nav-number">46.6.</span> <span class="nav-text">组件通信</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-如何实现按需加载"><span class="nav-number">46.7.</span> <span class="nav-text">vue 如何实现按需加载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-的生命周期"><span class="nav-number">46.8.</span> <span class="nav-text">vue 的生命周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#节点、树以及虚拟-DOM"><span class="nav-number">46.9.</span> <span class="nav-text">节点、树以及虚拟 DOM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是-MVVM"><span class="nav-number">46.10.</span> <span class="nav-text">什么是 MVVM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MVVM-和-MVC-区别"><span class="nav-number">46.11.</span> <span class="nav-text">MVVM 和 MVC 区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-的优点"><span class="nav-number">46.12.</span> <span class="nav-text">vue 的优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-router"><span class="nav-number">46.13.</span> <span class="nav-text">vue-router</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#路由之间跳转"><span class="nav-number">46.13.1.</span> <span class="nav-text">路由之间跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#navigation-guards-导航守卫"><span class="nav-number">46.13.2.</span> <span class="nav-text">navigation-guards 导航守卫</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vuex"><span class="nav-number">46.14.</span> <span class="nav-text">vuex</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#小程序"><span class="nav-number">47.</span> <span class="nav-text">小程序</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhouyu1993</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




<h5>
  <span id="busuanzi_container_site_uv">
    本站访客数<span id="busuanzi_value_site_uv"></span>人次
  </span>
</h5>

<div class="links-of-author">
  
    
      <span class="links-of-author-item">
        <a href="https://github.com/zhouyu1993/" target="_blank" title="GitHub" style="margin: 0 auto">
          
            <i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/9129348/joy-rain/" target="_blank" title="StackOverflow" style="margin: 0 auto">
          
            <i class="fa fa-fw fa-stack-overflow"></i>StackOverflow</a>
      </span>
    
      <span class="links-of-author-item">
        <a href="mailto:1490079545@qq.com/" target="_blank" title="E-Mail" style="margin: 0 auto">
          
            <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
      <span class="links-of-author-item">
        <a href="https://plus.google.com/100806722192060947141/" target="_blank" title="Google" style="margin: 0 auto">
          
            <i class="fa fa-fw fa-google"></i>Google</a>
      </span>
    
      <span class="links-of-author-item">
        <a href="https://weibo.com/yu917and130bing/" target="_blank" title="微博" style="margin: 0 auto">
          
            <i class="fa fa-fw fa-weibo"></i>微博</a>
      </span>
    
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/rainjoy/" target="_blank" title="知乎" style="margin: 0 auto">
          
            <i class="fa fa-fw fa-globe"></i>知乎</a>
      </span>
    
  
</div>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script defer>
  // use sw
  var opensw = location.hostname === 'zhouyu1993.github.io'
  if (opensw) {
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function () {
        navigator.serviceWorker.register('/service-worker.js', {
          scope: '/'
        }).then(function (registration) {
          // register success
          console.log('ServiceWorker registration successful with scope:', registration.scope)
        }).catch((err) => {
          // register failure
          console.log('ServiceWorker registration failed:', err)
        })
      })
    }
  }
</script>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("zz6VWq4HelTwLc79eS4WYNYd-gzGzoHsz", "QyKSBePhKCFPRO23Sxkk2BBI");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
